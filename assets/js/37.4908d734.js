(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{822:function(t,a,s){"use strict";s.r(a);var r=s(18),_=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"网络编程第-3-章"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网络编程第-3-章"}},[t._v("#")]),t._v(" 网络编程第 3 章")]),t._v(" "),s("h2",{attrs:{id:"目标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目标"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),s("p",[t._v("写一个带有过滤功能的 http 代理")]),t._v(" "),s("h2",{attrs:{id:"公共函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#公共函数"}},[t._v("#")]),t._v(" 公共函数")]),t._v(" "),s("h3",{attrs:{id:"htonl-和-htos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#htonl-和-htos"}},[t._v("#")]),t._v(" htonl 和 htos")]),t._v(" "),s("p",[t._v("地址转化?, 常见参数为 INADDR_ANY")]),t._v(" "),s("h2",{attrs:{id:"tcp-套接字函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp-套接字函数"}},[t._v("#")]),t._v(" TCP 套接字函数")]),t._v(" "),s("p",[t._v("这部分内容需要自己去仔细看下, 看函数和参数代表的意思")]),t._v(" "),s("h3",{attrs:{id:"close"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#close"}},[t._v("#")]),t._v(" close")]),t._v(" "),s("p",[t._v("申请关闭, 传输完成再关闭")]),t._v(" "),s("h3",{attrs:{id:"shutdown"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shutdown"}},[t._v("#")]),t._v(" shutdown")]),t._v(" "),s("p",[t._v("强制关, 可以分别关闭 read 和 write 边的")]),t._v(" "),s("h3",{attrs:{id:"read"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#read"}},[t._v("#")]),t._v(" read")]),t._v(" "),s("h3",{attrs:{id:"send"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#send"}},[t._v("#")]),t._v(" send")]),t._v(" "),s("h3",{attrs:{id:"recv"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#recv"}},[t._v("#")]),t._v(" recv")]),t._v(" "),s("h2",{attrs:{id:"tcp-套接字编程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp-套接字编程"}},[t._v("#")]),t._v(" TCP 套接字编程")]),t._v(" "),s("p",[t._v("上面的函数的组合使用")]),t._v(" "),s("p",[t._v("cmd 命令 列出 exe 结尾的文件 命令")]),t._v(" "),s("p",[t._v("dir *.exe")]),t._v(" "),s("h2",{attrs:{id:"udp-套接字编程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#udp-套接字编程"}},[t._v("#")]),t._v(" UDP 套接字编程")]),t._v(" "),s("h3",{attrs:{id:"udp-函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#udp-函数"}},[t._v("#")]),t._v(" UDP 函数")]),t._v(" "),s("h4",{attrs:{id:"sendto"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sendto"}},[t._v("#")]),t._v(" sendto")]),t._v(" "),s("p",[t._v("指明发送到的服务器的地址")]),t._v(" "),s("h4",{attrs:{id:"recvfrom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#recvfrom"}},[t._v("#")]),t._v(" recvfrom")]),t._v(" "),s("p",[t._v("指明数据包来源地址")]),t._v(" "),s("h4",{attrs:{id:"connect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#connect"}},[t._v("#")]),t._v(" connect")]),t._v(" "),s("p",[t._v("tcp 中这个函数用于三次握手")]),t._v(" "),s("p",[t._v("udp 中可以用来记录通信双方的 ip: port 信息")]),t._v(" "),s("h3",{attrs:{id:"与-tcp-的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#与-tcp-的区别"}},[t._v("#")]),t._v(" 与 TCP 的区别")]),t._v(" "),s("p",[t._v("UDP 不建立连接, 只能先客户端发数据")]),t._v(" "),s("h2",{attrs:{id:"网络编程第-5-章-并发服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网络编程第-5-章-并发服务器"}},[t._v("#")]),t._v(" 网络编程第 5 章 并发服务器")]),t._v(" "),s("h3",{attrs:{id:"创建进程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建进程"}},[t._v("#")]),t._v(" 创建进程")]),t._v(" "),s("h4",{attrs:{id:"fork-函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fork-函数"}},[t._v("#")]),t._v(" fork 函数")]),t._v(" "),s("p",[t._v("父进程执行 fork 函数后, 父进程继续执行后面的代码, 父进程返回子进程 pid, 子进程返回 0 进程创建成功, -1 表示出错")]),t._v(" "),s("p",[t._v("子进程执行 fork 后的代码.")]),t._v(" "),s("p",[t._v("此代码会创建几个进程")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fork")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fork")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("三个进程")]),t._v(" "),s("p",[t._v("父进程")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("\t1  2\t\t1\n")])])]),s("ol",{attrs:{start:"8"}},[s("li",[t._v("IO\n8.1 IO 复用\n8.1.1 select 函数")]),t._v(" "),s("li",[t._v("广播与多播放\n9.1 广播的实现\n广播只能用 UDP, 向多个主机发送信息")])]),t._v(" "),s("p",[t._v("函数 中设置 SO_BROADCAST 参数")]),t._v(" "),s("h2",{attrs:{id:"_8-io"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-io"}},[t._v("#")]),t._v(" 8. IO")]),t._v(" "),s("h3",{attrs:{id:"_8-1-io-复用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-io-复用"}},[t._v("#")]),t._v(" 8.1 IO 复用")]),t._v(" "),s("h4",{attrs:{id:"_8-1-1-select-函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-1-select-函数"}},[t._v("#")]),t._v(" 8.1.1 select 函数")]),t._v(" "),s("h2",{attrs:{id:"_9-广播与多播-了解即可"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-广播与多播-了解即可"}},[t._v("#")]),t._v(" 9. 广播与多播 (了解即可)")]),t._v(" "),s("h3",{attrs:{id:"_9-1-广播的实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-广播的实现"}},[t._v("#")]),t._v(" 9.1 广播的实现")]),t._v(" "),s("p",[t._v("广播只能用 UDP, 向多个主机发送信息")]),t._v(" "),s("p",[t._v("函数 中设置 SO_BROADCAST 参数")]),t._v(" "),s("h2",{attrs:{id:"_13-章"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-章"}},[t._v("#")]),t._v(" 13. 章")]),t._v(" "),s("h3",{attrs:{id:"_13-1-原始套接字-与数据链路的访问编程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-1-原始套接字-与数据链路的访问编程"}},[t._v("#")]),t._v(" 13.1 原始套接字 与数据链路的访问编程")]),t._v(" "),s("p",[t._v("需要了解 IPV4 数据包.")]),t._v(" "),s("h3",{attrs:{id:"dos-攻击"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dos-攻击"}},[t._v("#")]),t._v(" dos 攻击")]),t._v(" "),s("p",[t._v("客户发起很多连接, 服务器开很多进程或者线程, 三次握手的第三次不发送, 让服务器一直处于 阻塞状态.")]),t._v(" "),s("p",[t._v("正常 TCP 做不到, 原始套接字可以.")]),t._v(" "),s("p",[t._v("用户可以将数据包里的 来源 IP 地址任意修改, IP 地址伪造, 刚好我暑假也使用过.")]),t._v(" "),s("h3",{attrs:{id:"权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#权限"}},[t._v("#")]),t._v(" 权限")]),t._v(" "),s("p",[t._v("原始套接字很危险, 可以监听本地的任何应用的数据, 要 root 权限.")]),t._v(" "),s("p",[t._v("Nvidia 的游戏串流, frp 就是这样实现的吗?")]),t._v(" "),s("p",[t._v("打算后面去看一看 frp 的源码.")]),t._v(" "),s("h3",{attrs:{id:"_13-2-数据链路访问"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-2-数据链路访问"}},[t._v("#")]),t._v(" 13.2 数据链路访问")]),t._v(" "),s("p",[t._v("网络通信像流水一样, 都能访问, 不过一般设备只接受发给自己的, 否则丢弃.")]),t._v(" "),s("p",[t._v("这可能造成窃听.")]),t._v(" "),s("h3",{attrs:{id:"_13-3-以太网的广播通信"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-3-以太网的广播通信"}},[t._v("#")]),t._v(" 13.3 以太网的广播通信")]),t._v(" "),s("p",[t._v("以太网中, 所有通信都是广播的.")]),t._v(" "),s("h4",{attrs:{id:"tcpdump-命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcpdump-命令"}},[t._v("#")]),t._v(" tcpdump 命令")]),t._v(" "),s("p",[t._v("监听网卡")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("tvpdump -i 网卡号\n")])])]),s("h3",{attrs:{id:"libpcap"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#libpcap"}},[t._v("#")]),t._v(" libpcap")]),t._v(" "),s("p",[t._v("Github 上找")])])}),[],!1,null,null,null);a.default=_.exports}}]);