(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{769:function(a,s,t){"use strict";t.r(s);var e=t(18),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"linux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[a._v("#")]),a._v(" linux")]),a._v(" "),t("h2",{attrs:{id:"文件系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件系统"}},[a._v("#")]),a._v(" 文件系统")]),a._v(" "),t("h3",{attrs:{id:"目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#目录"}},[a._v("#")]),a._v(" 目录")]),a._v(" "),t("ol",[t("li",[a._v("bin: 二进制可执行文件")]),a._v(" "),t("li",[a._v("home: 用户目录")]),a._v(" "),t("li",[a._v("lib: 共享库目录")]),a._v(" "),t("li",[a._v("etc: 系统管理和配置文件, host 和 dns 密码等都在这")]),a._v(" "),t("li",[a._v("dev: 设备相关的")]),a._v(" "),t("li",[a._v("tmp: 临时文件, 重启后里面的文件消失")]),a._v(" "),t("li",[a._v("usr: 软件一般安装在这里")])]),a._v(" "),t("h3",{attrs:{id:"文件链接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件链接"}},[a._v("#")]),a._v(" 文件链接")]),a._v(" "),t("p",[a._v("文件链接类似于 windows 下面的快捷方式")]),a._v(" "),t("h3",{attrs:{id:"路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#路径"}},[a._v("#")]),a._v(" 路径")]),a._v(" "),t("ul",[t("li",[a._v("相对路径")]),a._v(" "),t("li",[a._v("绝对路径")])]),a._v(" "),t("h2",{attrs:{id:"常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[a._v("#")]),a._v(" 常用命令")]),a._v(" "),t("h3",{attrs:{id:"grep"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#grep"}},[a._v("#")]),a._v(" grep")]),a._v(" "),t("p",[a._v("Linux grep 命令用于查找文件里符合条件的字符串")]),a._v(" "),t("p",[a._v('grep [OPTION] "查找的字符串" 查找的文件名')]),a._v(" "),t("p",[a._v("参数")]),a._v(" "),t("ul",[t("li",[a._v("-n: 显示找到的文本的行数")]),a._v(" "),t("li",[a._v("-i: 忽略大小写")])]),a._v(" "),t("h3",{attrs:{id:"cp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cp"}},[a._v("#")]),a._v(" cp")]),a._v(" "),t("p",[a._v("cp [OPTION] 源文件 目标文件")]),a._v(" "),t("p",[a._v("使用通配符:")]),a._v(" "),t("p",[a._v("cp hello* ./dir1")]),a._v(" "),t("p",[a._v("将以 hello 开头的所有文件复制到当前目录下 dir1 目录下")]),a._v(" "),t("h3",{attrs:{id:"rm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rm"}},[a._v("#")]),a._v(" rm")]),a._v(" "),t("p",[a._v("参数")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("-f")]),a._v(" "),t("p",[a._v("强制删除 不给提示")])]),a._v(" "),t("li",[t("p",[a._v("-i")])]),a._v(" "),t("li",[t("p",[a._v("-r")])])]),a._v(" "),t("h3",{attrs:{id:"find"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#find"}},[a._v("#")]),a._v(" find")]),a._v(" "),t("p",[a._v("find [路径][表达式]")]),a._v(" "),t("p",[a._v("表达式")]),a._v(" "),t("p",[a._v("-name 文件/目录?名字")]),a._v(" "),t("p",[a._v("-type d")]),a._v(" "),t("p",[a._v("找目录")]),a._v(" "),t("p",[a._v("-type")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" ./dir5 -name *.c\n")])])]),t("p",[a._v("找到 dir5 下的所有的文件名带.c 的文件")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v(" -type d\n")])])]),t("h3",{attrs:{id:"tar"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tar"}},[a._v("#")]),a._v(" tar")]),a._v(" "),t("p",[a._v("tar -czf 打包文件名.tar.gz 目录")]),a._v(" "),t("p",[a._v("tar -zxvf 需要解包的文件名字")]),a._v(" "),t("h3",{attrs:{id:"gzip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gzip"}},[a._v("#")]),a._v(" gzip")]),a._v(" "),t("p",[a._v("解压:")]),a._v(" "),t("div",{staticClass:"language-bahs extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("gzip -d 压缩文件名\n")])])]),t("h3",{attrs:{id:"chmod"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#chmod"}},[a._v("#")]),a._v(" chmod")]),a._v(" "),t("p",[a._v("chmod [who][opt] [mode] 文件名")]),a._v(" "),t("p",[a._v("who:")]),a._v(" "),t("p",[a._v("u: 文件所有者")]),a._v(" "),t("p",[a._v("g: 本人所在. 组成员")]),a._v(" "),t("p",[a._v("o: 系统中的其他的用户")]),a._v(" "),t("p",[a._v("a: 所有用户")]),a._v(" "),t("p",[a._v("opt:")]),a._v(" "),t("p",[a._v("+: 增加")]),a._v(" "),t("p",[a._v("-: 减少")]),a._v(" "),t("p",[a._v("=: 使存储权限等于")]),a._v(" "),t("p",[a._v("mode 表示权限:")]),a._v(" "),t("p",[a._v("r: 读权限")]),a._v(" "),t("p",[a._v("w: 写权限")]),a._v(" "),t("p",[a._v("x: 执行权限")]),a._v(" "),t("p",[a._v("对目录使用需要 -R 选项")]),a._v(" "),t("p",[a._v("取消本用户对 chmodcmd 目录的读权限")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" u-r chmodcmd/\n")])])]),t("h3",{attrs:{id:"ln"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ln"}},[a._v("#")]),a._v(" ln")]),a._v(" "),t("p",[a._v("建立符号链接(类似于 windows 快捷方式)")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ln")]),a._v(" -s 源文件 符号链接"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("快捷方式"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("名称\n")])])]),t("h1",{attrs:{id:"第三次课"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第三次课"}},[a._v("#")]),a._v(" 第三次课")]),a._v(" "),t("h2",{attrs:{id:"系统管理命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#系统管理命令"}},[a._v("#")]),a._v(" 系统管理命令")]),a._v(" "),t("h3",{attrs:{id:"shutdown"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shutdown"}},[a._v("#")]),a._v(" shutdown")]),a._v(" "),t("div",{staticClass:"language-//bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("shutdown -h now //立即关机\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("shutdown")]),a._v(" +5 //五分钟后关机\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("shutdown")]),a._v(" -r now/23:59 // 现在/23:59分 关闭系统再重启\n")])])]),t("h3",{attrs:{id:"halt"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#halt"}},[a._v("#")]),a._v(" halt")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("halt")]),a._v(" -f //强制关机, 危险\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("halt")]),a._v(" -p //关机\n")])])]),t("h3",{attrs:{id:"reboot"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reboot"}},[a._v("#")]),a._v(" reboot")]),a._v(" "),t("p",[a._v("立刻重启")]),a._v(" "),t("h2",{attrs:{id:"用户管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户管理"}},[a._v("#")]),a._v(" 用户管理")]),a._v(" "),t("p",[a._v("用户的增删改查, 暂时用不到, 不做笔记")]),a._v(" "),t("h3",{attrs:{id:"切换用户命令-sudo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#切换用户命令-sudo"}},[a._v("#")]),a._v(" 切换用户命令 sudo")]),a._v(" "),t("p",[a._v("切换用户是 su(switch user)")]),a._v(" "),t("p",[a._v("简写: sudo")]),a._v(" "),t("h2",{attrs:{id:"linux-设备管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-设备管理"}},[a._v("#")]),a._v(" Linux 设备管理")]),a._v(" "),t("p",[a._v("所有设备皆文件")]),a._v(" "),t("h3",{attrs:{id:"设备标识"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设备标识"}},[a._v("#")]),a._v(" 设备标识")]),a._v(" "),t("h4",{attrs:{id:"主设备号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主设备号"}},[a._v("#")]),a._v(" 主设备号")]),a._v(" "),t("ul",[t("li",[a._v("tty: 终端设备")]),a._v(" "),t("li",[a._v("lp: 打印机")]),a._v(" "),t("li",[a._v("hd: IDE 硬盘")]),a._v(" "),t("li",[a._v("sd: SCSI 硬盘")])]),a._v(" "),t("h4",{attrs:{id:"次设备号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#次设备号"}},[a._v("#")]),a._v(" 次设备号")]),a._v(" "),t("p",[a._v("如 hda hdb tty0 lp0")]),a._v(" "),t("p",[a._v("用于区分多个设备, 比如多个硬. 打印机")]),a._v(" "),t("h2",{attrs:{id:"磁盘和分区管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#磁盘和分区管理"}},[a._v("#")]),a._v(" 磁盘和分区管理")]),a._v(" "),t("h3",{attrs:{id:"fdisk"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fdisk"}},[a._v("#")]),a._v(" fdisk")]),a._v(" "),t("h2",{attrs:{id:"进程管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#进程管理"}},[a._v("#")]),a._v(" 进程管理")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("Linux 系统上所有运行的东西都可以称为进程")])]),a._v(" "),t("li",[t("p",[a._v("进程三种状态: "),t("strong",[a._v("运行态")]),a._v(" "),t("strong",[a._v("就绪态")]),a._v(" "),t("strong",[a._v("阻塞态")])])]),a._v(" "),t("li",[t("p",[a._v("进程大致可以分为: "),t("strong",[a._v("系统进程")]),a._v(" "),t("strong",[a._v("用户进程")])])])]),a._v(" "),t("h3",{attrs:{id:"命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[a._v("#")]),a._v(" 命令")]),a._v(" "),t("p",[a._v("进程查看")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" aux\n")])])]),t("ul",[t("li",[t("p",[a._v("at 命令")]),a._v(" "),t("p",[a._v("at -f /home/user/pwd_script 03:15")])]),a._v(" "),t("li",[t("p",[a._v("wait 命令")])]),a._v(" "),t("li",[t("p",[a._v("kill [-s 信号 | -p][-a] 进程号")]),a._v(" "),t("p",[a._v("kill -l [信号]")])])]),a._v(" "),t("h2",{attrs:{id:"日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#日志"}},[a._v("#")]),a._v(" 日志")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("/var/log/dmesg")]),a._v(" "),t("p",[a._v("内核启动信息")])]),a._v(" "),t("li",[t("p",[a._v("/var/log/messages")]),a._v(" "),t("p",[a._v("内核错误和应用程序错误")])]),a._v(" "),t("li",[t("p",[a._v("/var/log/wtmp 和 /var/run/utmp")]),a._v(" "),t("p",[a._v("用户登录和操作的记录")])])]),a._v(" "),t("h1",{attrs:{id:"第四次课"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第四次课"}},[a._v("#")]),a._v(" 第四次课")]),a._v(" "),t("h2",{attrs:{id:"shell-编程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell-编程"}},[a._v("#")]),a._v(" shell 编程")]),a._v(" "),t("h3",{attrs:{id:"输入输出重定向"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#输入输出重定向"}},[a._v("#")]),a._v(" 输入输出重定向")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("输入: 文件中读入")]),a._v(" "),t("p",[a._v("小于符号 <")])]),a._v(" "),t("li",[t("p",[a._v("输出: > 符号. 可以将控制台的内容输出到文件")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(".txt\n")])])]),t("p",[a._v("追加: >> 在源文件后增加内容")]),a._v(" "),t("p",[a._v("用一个 > 会覆盖原文件")])]),a._v(" "),t("li",[t("p",[a._v("错误信息输出")]),a._v(" "),t("p",[a._v("cmd [参数] 2 文件名")])])]),a._v(" "),t("h3",{attrs:{id:"管道命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#管道命令"}},[a._v("#")]),a._v(" 管道命令")]),a._v(" "),t("p",[a._v("命令的输出做另一个命令的输入 符号 | 表示")]),a._v(" "),t("h3",{attrs:{id:"shell-基础-特殊字符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell-基础-特殊字符"}},[a._v("#")]),a._v(" shell 基础 特殊字符")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("通配符")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("* 任何字符串\n? 单个字符\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" 字符组中的一部分\n")])])])]),a._v(" "),t("li",[t("p",[a._v("引号")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("单引号: 特殊字符变为普通字符\n双引号: 除 $ "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" '  \" 这几个依然是特殊字符 其他字符变为普通字符\n")])])]),t("p",[a._v("$ 变量命名")])]),a._v(" "),t("li",[t("p",[a._v("反引号")]),a._v(" "),t("p",[a._v("反引号括起来的会被 shell 解释为命令 并且首先执行 并用标准输出结果代替反引号里的内容")])]),a._v(" "),t("li",[t("p",[a._v("注释")]),a._v(" "),t("h1",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[a._v("#")])])]),a._v(" "),t("li",[t("p",[a._v("别名")]),a._v(" "),t("p",[a._v("alias alias-name='origin cmd'")])])]),a._v(" "),t("h2",{attrs:{id:"shell-脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell-脚本"}},[a._v("#")]),a._v(" shell 脚本")]),a._v(" "),t("p",[a._v("shell 是按行一条接着一条的解释并执行 shell 脚本中的命令")]),a._v(" "),t("h3",{attrs:{id:"命令执行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令执行"}},[a._v("#")]),a._v(" 命令执行")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sh")]),a._v(" 脚本名字\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" 脚本名字\n./脚本名字 /*当前路径下*/\n")])])]),t("p",[a._v("sh 方法不需要脚本有执行权限")]),a._v(" "),t("p",[a._v("./ 方法必须有")]),a._v(" "),t("ul",[t("li",[a._v("sh 启动新的 shell 执行脚本")]),a._v(" "),t("li",[a._v("./ 当前 shell 执行脚本")])]),a._v(" "),t("h2",{attrs:{id:"shell-变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell-变量"}},[a._v("#")]),a._v(" shell 变量")]),a._v(" "),t("p",[a._v("一个 shell 终端就是一个进程")]),a._v(" "),t("h3",{attrs:{id:"shift"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shift"}},[a._v("#")]),a._v(" shift")]),a._v(" "),t("p",[a._v("使命令行输入的位置参数左移")]),a._v(" "),t("ul",[t("li",[a._v("env 命令查看当前 shell 环境变量")]),a._v(" "),t("li",[a._v("用户提示符 # root $普通用户")])]),a._v(" "),t("h3",{attrs:{id:"read-变量名-读入键盘输入-赋值给变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#read-变量名-读入键盘输入-赋值给变量"}},[a._v("#")]),a._v(" read [变量名]: 读入键盘输入 赋值给变量")]),a._v(" "),t("h3",{attrs:{id:"echo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#echo"}},[a._v("#")]),a._v(" echo")]),a._v(" "),t("p",[a._v("echo 默认换行")]),a._v(" "),t("h3",{attrs:{id:"export"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#export"}},[a._v("#")]),a._v(" export")]),a._v(" "),t("p",[a._v("父 shell 导入 变量给子 shell")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("例子")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("父 shell 文件")]),a._v(" "),t("p",[a._v("father.sh")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[a._v("#! /bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("var1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"the first var"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("var2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"the second var"')]),a._v(" //export命令 不加这个不会输出到son.sh shell中\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sh")]),a._v(" son.sh //运行之后会运行son.sh脚本的内容. "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sh")]),a._v(" 后面的是子shell文件名 类似函数传参"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("这样说不是特别准确"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(". 不过这是在两个文件中传递（说成在两个shell中传递更准）\n")])])])]),a._v(" "),t("li",[t("p",[a._v("子 shell 文件")]),a._v(" "),t("p",[a._v("son.sh")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[a._v("#! /bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$var1")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$var2")]),a._v("\n")])])])]),a._v(" "),t("li",[t("p",[a._v("运行 father.sh")]),a._v(" "),t("p",[a._v("命令: sh father.sh")]),a._v(" "),t("p",[a._v("运行之后会运行 son.sh 脚本的内容.")]),a._v(" "),t("p",[a._v("输出为:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("\t\t\t//由于 var1没有被传入 输出为空\nthe second var //var2传递过来了 有输出内容\n")])])])])])])]),a._v(" "),t("h1",{attrs:{id:"第五次课"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第五次课"}},[a._v("#")]),a._v(" 第五次课")]),a._v(" "),t("h2",{attrs:{id:"or-运算"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#or-运算"}},[a._v("#")]),a._v(" OR 运算")]),a._v(" "),t("p",[a._v("|| 连接多条命令, 依次执行, 若有一条指令执行返回值为 false, 后面的指令就停止执行.")]),a._v(" "),t("h2",{attrs:{id:"计算"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#计算"}},[a._v("#")]),a._v(" 计算")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("expr")])]),a._v(" "),t("li",[t("p",[a._v("let")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("let")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"a=2"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"b=3"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("let")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("c")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("a*b\n")])])]),t("p",[a._v("使用 let 命令时, 变量前的")])])]),a._v(" "),t("h2",{attrs:{id:"if-script"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#if-script"}},[a._v("#")]),a._v(" if_script:")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#! bin/bsah")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# this script is about if")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('" abc is the username? input yes or no"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("read")]),a._v(" name\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$name")]),a._v('"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"yes"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"hello abc!"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("else")]),a._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"abc is not your name"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fi")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exit")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n")])])]),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[a._v("#! /bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"yes or no"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("read")]),a._v(" name\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$name")]),a._v('"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"yes"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"hello abc!"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("elif")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$name")]),a._v('"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"no"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"you inputed no"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("else")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"error"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fi")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exit")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n\n")])])]),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#! bin/bash")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"enter the week number"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("read")]),a._v(" number\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("case")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$number")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"zhou yi"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"er"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"san"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        *"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"number must between 1 and 7"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("esac")]),a._v("\n\n")])])]),t("h1",{attrs:{id:"第六次课"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第六次课"}},[a._v("#")]),a._v(" 第六次课")]),a._v(" "),t("h2",{attrs:{id:"_6-1-gcc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-gcc"}},[a._v("#")]),a._v(" 6.1 gcc")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("gcc -o 程序名字 源文件.c 头文件.h "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n")])])]),t("p",[a._v("头文件在其他目录")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("gcc -o -I头文件目录名 程序名字 源文件.c 头文件.h "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n")])])]),t("p",[a._v("例子")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("gcc -o -I./head 程序名字 源文件.c 头文件.h "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\n")])])]),t("p",[a._v("当前文件夹下的 head 文件夹下寻找头文件")]),a._v(" "),t("h2",{attrs:{id:"_6-2-makefile"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-makefile"}},[a._v("#")]),a._v(" 6.2 Makefile")]),a._v(" "),t("p",[a._v("make 命令会检测一个大型程序, 代码改变后哪些部分需要重新编译.")]),a._v(" "),t("p",[a._v("简单来说: gcc 命令的集合")]),a._v(" "),t("p",[a._v("流程")]),a._v(" "),t("ol",[t("li",[a._v("读入 "),t("strong",[a._v("Makefile")]),a._v(" 文件")]),a._v(" "),t("li",[a._v("初始化变量")]),a._v(" "),t("li",[a._v("待补充")])]),a._v(" "),t("h3",{attrs:{id:"_6-2-1-内容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-1-内容"}},[a._v("#")]),a._v(" 6.2.1 内容")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("显式规则")])]),a._v(" "),t("li",[t("p",[a._v("隐含规则")]),a._v(" "),t("p",[a._v("makefile 自带的规则")])])]),a._v(" "),t("h4",{attrs:{id:"_6-2-1-1-显示-格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-1-1-显示-格式"}},[a._v("#")]),a._v(" 6.2.1.1 显示 格式")]),a._v(" "),t("p",[a._v("目标: 依赖")]),a._v(" "),t("p",[a._v("​ 命令")]),a._v(" "),t("p",[a._v("例子")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("新建 makefile 文件")]),a._v(" "),t("p",[a._v("vi makefile")])])]),a._v(" "),t("div",{staticClass:"language-makefile extra-class"},[t("pre",{pre:!0,attrs:{class:"language-makefile"}},[t("code",[t("span",{pre:!0,attrs:{class:"token symbol"}},[a._v("hello")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" hello.c\n\tgcc -o hello hello.c\n")])])]),t("p",[a._v("​ hello(可执行文件) 依赖于 hello.c(源文件)")]),a._v(" "),t("p",[a._v("​ 下面的命令时编译命令.")]),a._v(" "),t("ol",[t("li",[a._v("vi hello.c")])]),a._v(" "),t("div",{staticClass:"language-CQL extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('#include <stdio.h>\nint main(){\n     printf("hello world changed \\n");\n}\n')])])]),t("p",[a._v("执行命令 make 可以自动编译为可执行文件")]),a._v(" "),t("p",[a._v("修改 hello.c 再执行 make")]),a._v(" "),t("h3",{attrs:{id:"_6-3-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-命令"}},[a._v("#")]),a._v(" 6.3 命令")]),a._v(" "),t("h4",{attrs:{id:"clean"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#clean"}},[a._v("#")]),a._v(" clean")]),a._v(" "),t("p",[a._v("clean:")]),a._v(" "),t("p",[a._v("​ rm ...")]),a._v(" "),t("p",[a._v("清理文件")]),a._v(" "),t("h4",{attrs:{id:"make"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#make"}},[a._v("#")]),a._v(" make")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" 可执行文件名字\n")])])]),t("p",[a._v("只对 这个可执行文件执行 make 命令")]),a._v(" "),t("h3",{attrs:{id:"_6-4-变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-变量"}},[a._v("#")]),a._v(" 6.4 变量")]),a._v(" "),t("p",[a._v("变量可代表命令")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("大小写敏感")])]),a._v(" "),t("li",[t("p",[a._v("内部定义")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("$@")]),a._v(" "),t("p",[a._v("目标文件")])]),a._v(" "),t("li",[t("p",[a._v("$^")]),a._v(" "),t("p",[a._v("所有依赖文件")])]),a._v(" "),t("li",[t("p",[a._v("$<")]),a._v(" "),t("p",[a._v("第一个依赖文件")])])])])]),a._v(" "),t("p",[a._v("例子")]),a._v(" "),t("div",{staticClass:"language-makefile extra-class"},[t("pre",{pre:!0,attrs:{class:"language-makefile"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#makefile")]),a._v("\n\n")])])]),t("h3",{attrs:{id:"_6-5-隐含规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-5-隐含规则"}},[a._v("#")]),a._v(" 6.5 隐含规则")]),a._v(" "),t("p",[a._v("C 程序 .o 文件由 .c 生成")]),a._v(" "),t("p",[a._v("C++ 由 .cc 生成")]),a._v(" "),t("p",[a._v("将 gcc 名字设置为变量, 方便以后切换版本")]),a._v(" "),t("p",[a._v("隐含条件简化命令")]),a._v(" "),t("div",{staticClass:"language-makefile extra-class"},[t("pre",{pre:!0,attrs:{class:"language-makefile"}},[t("code",[t("span",{pre:!0,attrs:{class:"token symbol"}},[a._v("main.o")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" main.c **.h\n")])])]),t("h3",{attrs:{id:"_6-3-makefile-使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-makefile-使用"}},[a._v("#")]),a._v(" 6.3 Makefile 使用")]),a._v(" "),t("h4",{attrs:{id:"make-执行过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#make-执行过程"}},[a._v("#")]),a._v(" make 执行过程")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("查找顺序")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("GNUmake")]),a._v(" "),t("p",[a._v("...")]),a._v(" "),t("p",[a._v("makefile")])])])])]),a._v(" "),t("h2",{attrs:{id:"_6-4-gdb-调试器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-gdb-调试器"}},[a._v("#")]),a._v(" 6.4 GDB 调试器")]),a._v(" "),t("p",[a._v("编译错误")]),a._v(" "),t("p",[a._v("运行错误时用 GDB 调试")]),a._v(" "),t("h2",{attrs:{id:"_6-5-库-lib"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-5-库-lib"}},[a._v("#")]),a._v(" 6.5 库 lib")]),a._v(" "),t("h3",{attrs:{id:"定义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定义"}},[a._v("#")]),a._v(" 定义")]),a._v(" "),t("h3",{attrs:{id:"库函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#库函数"}},[a._v("#")]),a._v(" 库函数：")]),a._v(" "),t("p",[a._v("系统提供，供程序员调用，完成特定功能的函数，一般是 .o 文件。")]),a._v(" "),t("h3",{attrs:{id:"静态库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#静态库"}},[a._v("#")]),a._v(" 静态库")]),a._v(" "),t("ul",[t("li",[a._v("一般以 .a 结尾。")]),a._v(" "),t("li",[a._v("编译时：库函数合并在可执行文件中")]),a._v(" "),t("li",[a._v("执行时：提供程序即可")]),a._v(" "),t("li",[a._v("可执行文件会变大")])]),a._v(" "),t("h3",{attrs:{id:"共享库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#共享库"}},[a._v("#")]),a._v(" 共享库")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("以 .so .so.x 结尾")])]),a._v(" "),t("li",[t("p",[a._v("其他性质与静态库相反")]),a._v(" "),t("p",[a._v("编译不加入")]),a._v(" "),t("p",[a._v("执行时要提供库文件")]),a._v(" "),t("p",[a._v("执行文件较小。多个可执行文件可以共享，适合大型程序。")])])]),a._v(" "),t("h3",{attrs:{id:"制作静态库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#制作静态库"}},[a._v("#")]),a._v(" 制作静态库")]),a._v(" "),t("p",[a._v("gcc 生成 .o 文件 再用 ar -rc 打包")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("gcc -c stack.c\n")])])]),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("ar -rc libstack.a stack.o\n")])])]),t("p",[a._v("源文件 stack.c")]),a._v(" "),t("p",[a._v("gcc 命令生成 stack.o 文件")]),a._v(" "),t("p",[a._v("打包后的静态库：libstack.a")]),a._v(" "),t("h3",{attrs:{id:"使用静态库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用静态库"}},[a._v("#")]),a._v(" 使用静态库")]),a._v(" "),t("p",[a._v("编译 main.c 时用 -L 参数加入静态库")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("gcc -o main main.c -L./ -lstack\n")])])]),t("p",[a._v("然后运行 main")]),a._v(" "),t("h3",{attrs:{id:"动态库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#动态库"}},[a._v("#")]),a._v(" 动态库")]),a._v(" "),t("h4",{attrs:{id:"制作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#制作"}},[a._v("#")]),a._v(" 制作")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("gcc stack.c -fPIC -shared -o libstack2.so\n")])])]),t("p",[a._v("shared：共享库")]),a._v(" "),t("p",[a._v("-fPIC： f 为选项 PIC 为参数：位置无关代码。（待修改）")]),a._v(" "),t("h3",{attrs:{id:"使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),t("p",[a._v("编译 main.c 加 L 参数，和使用静态库命令一样")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("gcc -o main2 main.c -L./ -lstack2\n")])])]),t("p",[a._v("main2 中没有共享库的代码。只复制 main2 给别人不能直接执行，除非同时提供库文件。")]),a._v(" "),t("h3",{attrs:{id:"添加共享库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加共享库"}},[a._v("#")]),a._v(" 添加共享库")]),a._v(" "),t("p",[a._v("设置环境变量，告诉系统动态库在哪里。")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("LD_LIBRARY_PATH")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("./"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 修改共享库路径环境变量为当前目录")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$LD_LIBRARY_PATH")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看环境变量")]),a._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);