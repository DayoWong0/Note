(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{387:function(t,a,s){t.exports=s.p+"assets/img/image-20200920105823124.b9c105cf.png"},388:function(t,a,s){t.exports=s.p+"assets/img/image-20200920110242782.f7e7e926.png"},389:function(t,a,s){t.exports=s.p+"assets/img/image-20200920110447308.28528f98.png"},390:function(t,a,s){t.exports=s.p+"assets/img/image-20200920110636065.8c694d45.png"},391:function(t,a,s){t.exports=s.p+"assets/img/image-20200920110732006.c32a952d.png"},392:function(t,a,s){t.exports=s.p+"assets/img/image-20200920115915632.a9e29361.png"},393:function(t,a,s){t.exports=s.p+"assets/img/image-20200920120416840.4fec8482.png"},394:function(t,a,s){t.exports=s.p+"assets/img/image-20200920123351849.9cafa0f8.png"},395:function(t,a,s){t.exports=s.p+"assets/img/image-20200920120758891.91680fca.png"},396:function(t,a,s){t.exports=s.p+"assets/img/image-20200922000326487.bf2b2d65.png"},397:function(t,a,s){t.exports=s.p+"assets/img/image-20201011185615328.44d1011d.png"},774:function(t,a,s){"use strict";s.r(a);var n=s(18),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"javaweb-ng"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#javaweb-ng"}},[t._v("#")]),t._v(" JavaWeb-NG")]),t._v(" "),n("h2",{attrs:{id:"参考"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.liaoxuefeng.com/wiki/1252599548343744/1265112034799552",target:"_blank",rel:"noopener noreferrer"}},[t._v("使用List"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("["),n("a",{attrs:{href:"https://my.oschina.net/u/4287266/blog/3891785",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaWeb 返回json数据的两种方式"),n("OutboundLink")],1),t._v("](https://my.oschina.net/u/4287266/blog/3891785)")])]),t._v(" "),n("h2",{attrs:{id:"问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[t._v("#")]),t._v(" 问题")]),t._v(" "),n("h3",{attrs:{id:"作业2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#作业2"}},[t._v("#")]),t._v(" 作业2")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("后端代码写了但是从来没有连接数据库使用。")])]),t._v(" "),n("li",[n("p",[n("s",[t._v("DAO 返回数据 "),n("code",[t._v("List<Download>")]),t._v(" 不知道怎么使用。")])])])]),t._v(" "),n("h2",{attrs:{id:"经验总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#经验总结"}},[t._v("#")]),t._v(" 经验总结")]),t._v(" "),n("h3",{attrs:{id:"java-后端代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#java-后端代码"}},[t._v("#")]),t._v(" Java 后端代码")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("什么时候写一个新的函数或者方法")]),t._v(" "),n("p",[t._v("大量重复用到的代码，比如作业 1 2 3  用到的 error.jsp 转发重定向，可以将错误信息和跳转到的地址作为参数使用")])]),t._v(" "),n("li",[n("p",[t._v("什么时候用静态方法")]),t._v(" "),n("p",[t._v("当方法比较独立，不容易抽象出一个类的时候。不用类初始化之类的？")])]),t._v(" "),n("li",[n("p",[t._v("方法、类 参数 命名规则")])])]),t._v(" "),n("h3",{attrs:{id:"数据库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据库"}},[t._v("#")]),t._v(" 数据库")]),t._v(" "),n("h3",{attrs:{id:"css"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#css"}},[t._v("#")]),t._v(" CSS")]),t._v(" "),n("h3",{attrs:{id:"javascript"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#javascript"}},[t._v("#")]),t._v(" JavaScript")]),t._v(" "),n("h2",{attrs:{id:"第一周课"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第一周课"}},[t._v("#")]),t._v(" 第一周课")]),t._v(" "),n("h3",{attrs:{id:"部署方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#部署方式"}},[t._v("#")]),t._v(" 部署方式")]),t._v(" "),n("p",[t._v("三种")]),t._v(" "),n("ol",[n("li"),t._v(" "),n("li"),t._v(" "),n("li")]),t._v(" "),n("h3",{attrs:{id:"项目文件存放目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#项目文件存放目录"}},[t._v("#")]),t._v(" 项目文件存放目录")]),t._v(" "),n("h4",{attrs:{id:"前端"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前端"}},[t._v("#")]),t._v(" 前端")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("静态文件:")]),t._v(" "),n("p",[t._v("html 根目录")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("js/")])]),t._v(" "),n("li",[n("p",[t._v("css/")])]),t._v(" "),n("li",[n("p",[t._v("image/")])])])]),t._v(" "),n("li",[n("p",[t._v("动态文件:")]),t._v(" "),n("p",[t._v("*.jsp")])])]),t._v(" "),n("h4",{attrs:{id:"后端"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#后端"}},[t._v("#")]),t._v(" 后端")]),t._v(" "),n("p",[t._v("均放于 WEB-INF 目录下")]),t._v(" "),n("p",[t._v("WEB-INF")]),t._v(" "),n("p",[t._v("classes: 按源代码的结构编译好的*.class 文件")]),t._v(" "),n("p",[t._v("lib: 存放程序所需要的包(*.jar)")]),t._v(" "),n("p",[t._v("web.xml: 本应用配置文件")]),t._v(" "),n("h3",{attrs:{id:"idea-web-项目创建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#idea-web-项目创建"}},[t._v("#")]),t._v(" idea web 项目创建")]),t._v(" "),n("p",[t._v("out.flush: 立即输出, 不用等待缓存完毕就输出")]),t._v(" "),n("h3",{attrs:{id:"配置文件解析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置文件解析"}},[t._v("#")]),t._v(" 配置文件解析")]),t._v(" "),n("h3",{attrs:{id:"web-xml"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#web-xml"}},[t._v("#")]),t._v(" web.xml")]),t._v(" "),n("h3",{attrs:{id:"问题-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#问题-2"}},[t._v("#")]),t._v(" 问题")]),t._v(" "),n("ol",[n("li",[t._v("三种 web 服务器配置方法(主要用第三种方法)")]),t._v(" "),n("li",[t._v("idea 生成的文件太少, 以及怎么在 idea 上配置开发环境")]),t._v(" "),n("li",[t._v("配置文件的作用")])]),t._v(" "),n("h3",{attrs:{id:"作业"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#作业"}},[t._v("#")]),t._v(" 作业")]),t._v(" "),n("ol",[n("li",[t._v("重现一次访问")]),t._v(" "),n("li",[t._v("DAO 数据库写好")]),t._v(" "),n("li")]),t._v(" "),n("h3",{attrs:{id:"总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),n("p",[t._v("配置文件:")]),t._v(" "),n("p",[t._v("web.xml 中的")]),t._v(" "),n("servelet-mapping"),t._v(" "),n("h3",{attrs:{id:"servelet"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#servelet"}},[t._v("#")]),t._v(" servelet")]),t._v(" "),n("p",[t._v("教材 P19")]),t._v(" "),n("h3",{attrs:{id:"html"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#html"}},[t._v("#")]),t._v(" html")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("p 标签自动换行")])]),t._v(" "),n("li",[n("p",[t._v("span 不换行换行")])]),t._v(" "),n("li",[n("p",[t._v("列表")]),t._v(" "),n("p",[t._v("无序"),n("ul")]),t._v(" "),n("p",[t._v("有序"),n("ol")])]),t._v(" "),n("li",[n("p",[t._v("表格")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("table")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("tr")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("td")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("td")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("tr")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("table")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])]),t._v(" "),n("h3",{attrs:{id:"http-方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#http-方法"}},[t._v("#")]),t._v(" HTTP 方法")]),t._v(" "),n("p",[t._v("GET: 不安全 有长度限制")]),t._v(" "),n("p",[t._v("POST:")]),t._v(" "),n("p",[t._v("POST 请求时, 客户端发送非西文数据时使用编码: iso 8859-1")]),t._v(" "),n("p",[t._v("服务端需要将此编码转换为 UTF-8 编码.")]),t._v(" "),n("p",[t._v("转换方法:")]),t._v(" "),n("p",[t._v("两种方法搭配使用")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("调用 request 对象提供的方法")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCharacterEncoding")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"utf-8"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),n("li",[n("p",[t._v("手工编码 可对单个数据编码进行转换")])])]),t._v(" "),n("h2",{attrs:{id:"第二周课"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第二周课"}},[t._v("#")]),t._v(" 第二周课")]),t._v(" "),n("h3",{attrs:{id:"地址映射"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#地址映射"}},[t._v("#")]),t._v(" 地址映射")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("注解")]),t._v(" "),n("p",[t._v("例子")]),t._v(" "),n("p",[t._v('在类名前加入注解 @WebServlet("/test")')]),t._v(" "),n("p",[t._v("redeploy 服务器")]),t._v(" "),n("p",[t._v("访问 http://localhost:8080/javaweb_02_servlet_war/test")]),t._v(" "),n("p",[n("strong",[t._v("注意")]),t._v(":")]),t._v(" "),n("ul",[n("li",[n("p",[t._v('注解中 @WebServlet("/test")')]),t._v(" "),n("p",[t._v("test 前面的斜杠不能忘记, 否则 tomcat 会启动失败. 上课时困扰了我至少 20 分钟")])])])]),t._v(" "),n("li",[n("p",[t._v("配置文件")])])]),t._v(" "),n("h3",{attrs:{id:"用户登录案例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#用户登录案例"}},[t._v("#")]),t._v(" 用户登录案例")]),t._v(" "),n("ul",[n("li",[t._v("用户名 密码 验证码")])]),t._v(" "),n("h3",{attrs:{id:"出错"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#出错"}},[t._v("#")]),t._v(" 出错")]),t._v(" "),n("h4",{attrs:{id:"url-地址写错"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#url-地址写错"}},[t._v("#")]),t._v(" url 地址写错")]),t._v(" "),n("p",[t._v("正确写法:")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@WebServlet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("urlPatterns "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/controller/vcode.do"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CreateVerifyCodeImagesServlet")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServlet")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("doGet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletRequest")]),t._v(" req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletResponse")]),t._v(" resp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServletException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//        System.out.println("验证码");')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v('出错原因, urlPatterns 参数要以 "/" 开头.')]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 错误写法")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@WebServlet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("urlPatterns "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"controller/vcode.do"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//正确写法")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@WebServlet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("urlPatterns "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/controller/vcode.do"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h2",{attrs:{id:"作业-1-笔记"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#作业-1-笔记"}},[t._v("#")]),t._v(" 作业 1 笔记")]),t._v(" "),n("h3",{attrs:{id:"_4-2-虚拟目录的配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-虚拟目录的配置"}},[t._v("#")]),t._v(" 4.2 虚拟目录的配置")]),t._v(" "),n("p",[t._v("定义: 建立 URL 地址与项目的物理路径之间的映射，这个过程叫做虚拟路径的映射。")]),t._v(" "),n("p",[t._v("例如：在浏览器中输入地址 "),n("a",{attrs:{href:"http://localhost:8080/test/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:8080/test/index.html"),n("OutboundLink")],1),t._v("服务器必须知道/test（虚拟目录）这个目录对应服务器中的哪个物理目录")]),t._v(" "),n("p",[t._v("有三种方法, 方法 3 用的多, 主要看它.")]),t._v(" "),n("h3",{attrs:{id:"配置方法-3"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置方法-3"}},[t._v("#")]),t._v(" 配置方法 3")]),t._v(" "),n("p",[t._v("在 $Tomcat_home$\\conf\\Catalina\\localhost 路径下新建一个 XML 文件（conf 目录下如果没有对应子目录，请手工新建），注意：XML 文件的名字必须和定义的虚拟目录名一致，在下例中，文件名必须为 test.xml，文件内容如下:")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Context")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("path")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/test"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("docBase")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/Volumes/WinMacCode/IdeaProjects/javaweb/javaweb-02-servlet/src/main/webapp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("reloadable")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("true"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("Context")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("浏览器中输入 http://127.0.0.1:8080/test/index.html 也可访问到 d:/myweb/index.html 文件")]),t._v(" "),n("p",[t._v("推荐使用第三种配置方法，对于该种配置方法，web 应用程序可以存放在服务器的任何位置，每个应用一个单独的配置文件。")]),t._v(" "),n("p",[t._v("注意")]),t._v(" "),n("ol",[n("li",[t._v("test 为虚拟目录")]),t._v(" "),n("li",[t._v("xml 配置文件的 docBase 是静态文件 html css js 的目录(docBase 目录需要改为你自己的静态文件夹目录)")]),t._v(" "),n("li",[t._v("reloadable 表示热部署. 文件发生改变 tomcat 自动重启")])]),t._v(" "),n("h3",{attrs:{id:"idea-maven-新建项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#idea-maven-新建项目"}},[t._v("#")]),t._v(" IDEA Maven 新建项目")]),t._v(" "),n("p",[t._v("参考")]),t._v(" "),n("ol",[n("li",[n("p",[n("a",{attrs:{href:"https://www.bilibili.com/video/BV12J411M7Sj?p=60",target:"_blank",rel:"noopener noreferrer"}},[t._v("javaweb-06：IDEA 中 Maven 的操作"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://blog.csdn.net/m0_46587577/article/details/107290521",target:"_blank",rel:"noopener noreferrer"}},[t._v("IDEA 2020 创建 Maven web 项目"),n("OutboundLink")],1)])])]),t._v(" "),n("p",[n("img",{attrs:{src:s(387),alt:"image-20200920105823124"}})]),t._v(" "),n("p",[t._v("输入项目名称, 然后一路下一步, 等待 maven 运行完成")]),t._v(" "),n("p",[t._v("因为我想在一个文件夹下能有多个项目. 需要做以下操作.")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("删除 src 目录")]),t._v(" "),n("p",[t._v("删除后目录结构")]),t._v(" "),n("p",[n("img",{attrs:{src:s(388),alt:"image-20200920110242782"}})])]),t._v(" "),n("li",[n("p",[t._v("左键点击项目名称--\x3e 右键单击 --\x3e new --\x3e module")]),t._v(" "),n("p",[n("img",{attrs:{src:s(389),alt:"image-20200920110447308"}})]),t._v(" "),n("p",[t._v("进行和开始新建项目同样的操作")])])]),t._v(" "),n("p",[n("img",{attrs:{src:s(390),alt:"image-20200920110636065"}})]),t._v(" "),n("p",[t._v("这里项目名我填入为 web01servlet, 然后一路默认下一步, 再次等待 maven 跑完")]),t._v(" "),n("p",[n("img",{attrs:{src:s(391),alt:"image-20200920110732006"}})]),t._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[n("p",[t._v("添加 tomcat 服务器配置")]),t._v(" "),n("p",[t._v("参考 "),n("a",{attrs:{href:"https://blog.csdn.net/fengchao2016/article/details/83023725",target:"_blank",rel:"noopener noreferrer"}},[t._v("IDEA 集成 Tomcat "),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("当静态文件改变和 java 代码改变后 需要 restart server")]),t._v(" "),n("p",[n("s",[t._v("当 java 文件改变后 需要 redeploy")])])])]),t._v(" "),n("p",[n("img",{attrs:{src:s(392),alt:"image-20200920115915632"}})]),t._v(" "),n("ol",{attrs:{start:"4"}},[n("li",[n("p",[t._v("在 src 下 新建 目录 java 和 resources")]),t._v(" "),n("p",[n("img",{attrs:{src:s(393),alt:"image-20200920120416840"}})])]),t._v(" "),n("li",[n("p",[t._v("在 maven 中添加 servlet 依赖.")]),t._v(" "),n("p",[t._v("打开子项目里的 pom.xml 粘贴以下内容到 dependencies 下级去, 然后点击 maven 图标 下载依赖包")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[t._v("\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("junit"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("junit"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("4.11"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("scope")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("test"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("scope")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("javax.servlet"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("javax.servlet-api"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("3.0.1"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("scope")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("provided"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("scope")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("javax.servlet.jsp"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("jsp-api"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2.1"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("scope")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("provided"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("scope")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])]),t._v(" "),n("h3",{attrs:{id:"以下内容是用-maven-的父结构-未完成-待补充"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#以下内容是用-maven-的父结构-未完成-待补充"}},[t._v("#")]),t._v(" 以下内容是用 maven 的父结构 未完成 待补充")]),t._v(" "),n("p",[n("img",{attrs:{src:s(394),alt:"image-20200920123351849"}})]),t._v(" "),n("p",[n("img",{attrs:{src:s(395),alt:"image-20200920120758891"}})]),t._v(" "),n("ol",{attrs:{start:"6"}},[n("li",[t._v("上课时跟着老师敲了一部分代码. 现在跟着文档完善一下.")])]),t._v(" "),n("p",[t._v("然后启动服务器.")]),t._v(" "),n("hr"),t._v(" "),n("p",[t._v("9.21 晚上补充")]),t._v(" "),n("h3",{attrs:{id:"验证码动态生成"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#验证码动态生成"}},[t._v("#")]),t._v(" 验证码动态生成")]),t._v(" "),n("p",[t._v("照着老师的文档的代码敲了一遍")]),t._v(" "),n("p",[t._v("生成验证码的代码完成.")]),t._v(" "),n("p",[t._v("需要自己看的有 java 怎么绘画验证码.")]),t._v(" "),n("p",[t._v("有一个地方需要修改.")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//CreateVerifyImageController中")]),t._v("\nresp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setContentType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"image/jpeg"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//老师的代码 中 img = image 基本问题也不大, 但是用谷歌浏览器打开网址, 他会当做文件来下载, 强迫症犯了..通过一个我经常用的网站看到 返回类型该改为image/jepg")]),t._v("\n")])])]),n("p",[t._v("验证码放于 session 中")]),t._v(" "),n("p",[t._v("在 github 找了个前端注册登录代码 改了一下 效果如下, 修改了 js 代码 点击图片刷新验证码也行了")]),t._v(" "),n("p",[t._v("还需要修改 css 使得验证码和输入框位于同一个行内")]),t._v(" "),n("p",[n("img",{attrs:{src:s(396),alt:"image-20200922000326487"}})]),t._v(" "),n("h3",{attrs:{id:"登录出错页面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#登录出错页面"}},[t._v("#")]),t._v(" 登录出错页面")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/HttpErrorPages/HttpErrorPages/tree/master/dist",target:"_blank",rel:"noopener noreferrer"}},[t._v("出错前端模板"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("html 文件名字有大写的 tomcat 不能查看 显示 404?")]),t._v(" "),n("p",[t._v("后来又行了? 令人迷惑.")]),t._v(" "),n("p",[t._v("可能是缓存问题, 但是我也 restart server 并且 redeploy")]),t._v(" "),n("p",[t._v("又来了更迷惑的事情.")]),t._v(" "),n("p",[t._v("同一个文件夹下")]),t._v(" "),n("p",[t._v("HTTP500.html 不能访问")]),t._v(" "),n("p",[t._v("HTTP404.html 可以访问")]),t._v(" "),n("h3",{attrs:{id:"el-表达式不显示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#el-表达式不显示"}},[t._v("#")]),t._v(" el 表达式不显示")]),t._v(" "),n("p",[t._v("需要在 jsp 文件前面加入以下代码")]),t._v(" "),n("p",[t._v("参考: "),n("a",{attrs:{href:"https://blog.csdn.net/lianzhang861/article/details/81232351",target:"_blank",rel:"noopener noreferrer"}},[t._v("EL 表达式无法显示，直接显示${xxx}"),n("OutboundLink")],1)]),t._v(" "),n("div",{staticClass:"language-jsp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('<%@ page isELIgnored="false" %>\n')])])]),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@WebServlet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/controller/login.do"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"login.do"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LoginController")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServlet")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("doGet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletRequest")]),t._v(" req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletResponse")]),t._v(" resp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServletException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" login_info "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"login_info"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" login_info"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRequestDispatcher")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/error.jsp"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forward")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" resp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"language-jsp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('<%@ page language="java" pageEncoding="UTF-8" %>\n<%@ page isELIgnored="false" %>\n<!DOCTYPE HTML>\n<html>\n<head>\n    <meta charset="UTF-8">\n    <title>JSP显示Servlet</title>\n</head>\n<body>\n    ${login_info}\n</body>\n</html>\n')])])]),n("h3",{attrs:{id:"访问网址错误导致-jstl-和-el-数据不显示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#访问网址错误导致-jstl-和-el-数据不显示"}},[t._v("#")]),t._v(" 访问网址错误导致 jstl 和 el 数据不显示")]),t._v(" "),n("p",[t._v("正确的访问网址为")]),t._v(" "),n("p",[t._v("/getDownloadList.do")]),t._v(" "),n("p",[t._v("但是我在测试的时候直接访问的 /download.jsp 是不正确的")]),t._v(" "),n("p",[t._v("servlet 需要传数据给 jsp 文件, 若直接访问 jsp 文件, 没有这个过程,没数据传入,则没有显示.")]),t._v(" "),n("p",[t._v("只有访问 /getDownloadList.do 才能使得 jsp 文件得到数据")]),t._v(" "),n("h2",{attrs:{id:"第三周课"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第三周课"}},[t._v("#")]),t._v(" 第三周课")]),t._v(" "),n("h3",{attrs:{id:"mvc-模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mvc-模型"}},[t._v("#")]),t._v(" MVC 模型")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("Model 模型")]),t._v(" "),n("p",[t._v("数据库相关 JavaBean")])]),t._v(" "),n("li",[n("p",[t._v("View 视图")])]),t._v(" "),n("li",[n("p",[t._v("Controller 控制器")])])]),t._v(" "),n("p",[t._v("和 Django 的 MVC 一样")]),t._v(" "),n("p",[t._v("Model 和数据库相关")]),t._v(" "),n("p",[t._v("View 响应和数据处理")]),t._v(" "),n("h3",{attrs:{id:"servlet"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#servlet"}},[t._v("#")]),t._v(" Servlet")]),t._v(" "),n("p",[t._v("中间层")]),t._v(" "),n("h4",{attrs:{id:"servlet-方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#servlet-方法"}},[t._v("#")]),t._v(" servlet 方法")]),t._v(" "),n("p",[t._v("各种方法需要的参数以及返回值可以看源码或者教材")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("init")]),t._v(" "),n("p",[t._v("首次启动调用.")])]),t._v(" "),n("li",[n("p",[t._v("destroy")]),t._v(" "),n("p",[t._v("卸载时调用.")])]),t._v(" "),n("li",[n("p",[t._v("service")]),t._v(" "),n("p",[t._v("顾名思义 服务是一直运行着的")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("doPost")])]),t._v(" "),n("li",[n("p",[t._v("doGet")])])])])]),t._v(" "),n("h4",{attrs:{id:"新建-servlet"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#新建-servlet"}},[t._v("#")]),t._v(" 新建 servlet")]),t._v(" "),n("p",[t._v("参考 "),n("a",{attrs:{href:"https://blog.csdn.net/chang_ge/article/details/79917956",target:"_blank",rel:"noopener noreferrer"}},[t._v("使用 IntelliJ IDEA 新建一个 Servlet 项目"),n("OutboundLink")],1)]),t._v(" "),n("h3",{attrs:{id:"两种-url-映射方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#两种-url-映射方法"}},[t._v("#")]),t._v(" 两种 URL 映射方法")]),t._v(" "),n("p",[t._v("参考")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://blog.csdn.net/yhao2014/article/details/45740111",target:"_blank",rel:"noopener noreferrer"}},[t._v("Intellij idea 创建 javaWeb 以及 Servlet 简单实现"),n("OutboundLink")],1)]),t._v(" "),n("ol",[n("li",[n("p",[t._v("web.xml 配置文件")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--  注册HelloServlet开始--\x3e")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("servlet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("servlet-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("hello"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("servlet-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--    类名--\x3e")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("servlet-class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("controller.HelloServlet"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("servlet-class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("servlet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--  servlet请求路径--\x3e")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("servlet-mapping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("servlet-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("hello"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("servlet-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--    虚拟路径--\x3e")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("url-pattern")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("/hello"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("url-pattern")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("servlet-mapping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--  注册HelloServlet结束--\x3e")]),t._v("\n")])])])])]),t._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[n("p",[t._v("注解")]),t._v(" "),n("p",[t._v("在 类名 上注解")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@WebServlet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/HelloServlet"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HelloServlet"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloServlet")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServlet")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("doGet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletRequest")]),t._v(" req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletResponse")]),t._v(" resp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//        ServletOutputStream outputStream = resp.getOutputStream();")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PrintWriter")]),t._v(" writer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" resp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getWriter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//响应流")]),t._v("\n        writer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello servlet changed"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("doPost")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletRequest")]),t._v(" req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletResponse")]),t._v(" resp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("doGet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" resp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),n("p",[t._v("两者选一个就行, 注解用得多些")]),t._v(" "),n("h3",{attrs:{id:"httpservletrequest-对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#httpservletrequest-对象"}},[t._v("#")]),t._v(" HttpServletRequest 对象")]),t._v(" "),n("h3",{attrs:{id:"获得客户机请求头"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获得客户机请求头"}},[t._v("#")]),t._v(" "),n("strong",[t._v("获得客户机请求头")])]),t._v(" "),n("h3",{attrs:{id:"获得客户机请求参数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获得客户机请求参数"}},[t._v("#")]),t._v(" 获得客户机请求参数")]),t._v(" "),n("h2",{attrs:{id:"第四周课"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第四周课"}},[t._v("#")]),t._v(" 第四周课")]),t._v(" "),n("ul",[n("li",[t._v("前端页面网址 没有斜杠开头 后端却是以斜杠开头(web.xml 配置文件 和 类名上的注解 )")])]),t._v(" "),n("h3",{attrs:{id:"jsp-java-server-page"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jsp-java-server-page"}},[t._v("#")]),t._v(" JSP (Java Server Page)")]),t._v(" "),n("p",[t._v("动态页面, html 文件里嵌入 Java 代码")]),t._v(" "),n("h3",{attrs:{id:"语法格式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#语法格式"}},[t._v("#")]),t._v(" 语法格式")]),t._v(" "),n("p",[t._v('<%@ 指令名 attribute1="value1" %>')]),t._v(" "),n("p",[t._v("教材 P49")]),t._v(" "),n("p",[t._v("和 Django 的模板语言类似")]),t._v(" "),n("p",[t._v("服务器可以返回 基本数据类型 对象 集合等")]),t._v(" "),n("p",[t._v("jstl uri 在包内没找到")]),t._v(" "),n("p",[t._v("解决")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://blog.csdn.net/qq_29227939/article/details/52063869",target:"_blank",rel:"noopener noreferrer"}},[t._v("配置 Jstl 的 Maven 依赖"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("但是这个 maven 配置直接复制过来 有 Maven 依赖重复问题")]),t._v(" "),n("p",[t._v("使用 fo 循环")]),t._v(" "),n("p",[t._v("body 中")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("c:")]),t._v("forEach")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("items")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("${downloadList}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("var")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("download"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("${download.image}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${download.description}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("c:")]),t._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("jsp 里最好别写代码. 多数用来数据展示。")]),t._v(" "),n("h3",{attrs:{id:"流程控制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#流程控制"}},[t._v("#")]),t._v(" 流程控制")]),t._v(" "),n("p",[t._v("(不推荐用 JSP 做流程控制)")]),t._v(" "),n("p",[t._v("必须要写 Java 代码, 后期可以使用 过滤器 简化")]),t._v(" "),n("p",[t._v("若用到了 Java 中的 类 需要在头文件 import 该类")]),t._v(" "),n("h3",{attrs:{id:"数据库-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据库-2"}},[t._v("#")]),t._v(" 数据库")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.cnblogs.com/dadian/p/11938707.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("IDEA Maven mysql 数据库操作 有 java 代码例子"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("没安装数据库.")]),t._v(" "),n("p",[t._v("代码位于 src/main/java/DAO/UserDAO.java 中")]),t._v(" "),n("h2",{attrs:{id:"第五周课"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第五周课"}},[t._v("#")]),t._v(" 第五周课")]),t._v(" "),n("h3",{attrs:{id:"过滤器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#过滤器"}},[t._v("#")]),t._v(" 过滤器")]),t._v(" "),n("p",[t._v("访问控制, 拦截请求, 对请求重新编码和压缩响应信息等")]),t._v(" "),n("h3",{attrs:{id:"filter-配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#filter-配置"}},[t._v("#")]),t._v(" filter 配置")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("web.xml 配置")]),t._v(" "),n("p",[t._v("filter 和 filter-mapping 标记")]),t._v(" "),n("p",[t._v("支持通配符")])]),t._v(" "),n("li",[n("p",[t._v("注解")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@WebFilter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("urlPattterns "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("可加入初始化参数")])])]),t._v(" "),n("p",[t._v("注意: 过滤器过滤的路径不包括前端静态文件(即对 html css js 无效). 对 jsp 有效")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("过滤器使用")])]),t._v(" "),n("li",[n("p",[t._v("为了减少硬编码, 可以使用配置文件, 但是和注解比较起来, 较麻烦.")])])]),t._v(" "),n("h2",{attrs:{id:"第六周课-ajax"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第六周课-ajax"}},[t._v("#")]),t._v(" 第六周课 AJAX")]),t._v(" "),n("h3",{attrs:{id:"json"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#json"}},[t._v("#")]),t._v(" JSON")]),t._v(" "),n("ol",[n("li",[t._v("JSON内部包含的字符串必须要用双引号。")]),t._v(" "),n("li",[t._v("JSON 数组 JSON 对象")])]),t._v(" "),n("p",[t._v("合格的 JSON 对象")]),t._v(" "),n("p",[t._v("数组 对象 以及他们的嵌套。")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"one"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"two"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"three"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"one"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"two"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"three"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"names"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"张三"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"李四"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"张三"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"李四"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("　\n")])])]),n("h2",{attrs:{id:"作业-2-笔记"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#作业-2-笔记"}},[t._v("#")]),t._v(" 作业 2 笔记")]),t._v(" "),n("h3",{attrs:{id:"_1-web-xml-配置文件报错"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-web-xml-配置文件报错"}},[t._v("#")]),t._v(" 1. web.xml 配置文件报错")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token doctype"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),n("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token name"}},[t._v("web-app")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token name"}},[t._v("PUBLIC")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"')]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://java.sun.com/dtd/web-app_2_3.dtd"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("web-app")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("display-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Archetype Created Web Application"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("display-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 定义Filter --\x3e")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("filter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- Filter的名字 --\x3e")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("filter-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("permissionCheckFilter"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("filter-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- Filter的实现类 --\x3e")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("filter-class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("filter.PermissionFilter"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("filter-class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 下面3个init-param元素配置了3个参数 --\x3e")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("init-param")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("param-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("notCheckPath"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("param-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("param-value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("/createberifyImage.do, /login.do, /logout.do, /error.jsp"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("param-value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("init-param")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("filter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 定义Filter拦截的URL地址 --\x3e")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("filter-mapping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- Filter的名字 --\x3e")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("filter-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("permissionCheckFilter"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("filter-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- Filter负责拦截的URL --\x3e")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("url-pattern")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("*.jsp"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("url-pattern")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("url-pattern")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("*.do"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("url-pattern")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("filter-mapping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("web-app")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v('错误: The content of element type "filter-mapping" must match')]),t._v(" "),n("p",[t._v("解决:")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.iteye.com/blog/jyao-1263650",target:"_blank",rel:"noopener noreferrer"}},[t._v('解决：The content of element type "web-app" must match "(icon?,display-'),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("接着 测试 过滤器效果, 发现打开 login.html 404")]),t._v(" "),n("p",[t._v("删除了 target 文件 重新启动解决了 原因未知")]),t._v(" "),n("p",[n("img",{attrs:{src:s(397),alt:"image-20201011185615328"}})]),t._v(" "),n("h3",{attrs:{id:"_2-验证码不加载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-验证码不加载"}},[t._v("#")]),t._v(" 2. 验证码不加载")]),t._v(" "),n("p",[t._v("不过滤的地址配置错误 由于我自己的创建验证码的地址和老师给的参考代码不一样.")]),t._v(" "),n("p",[t._v("修改之后启动还是不能加载. 查看后发现前端地址有问题")]),t._v(" "),n("p",[t._v("后端地址注解")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("/createVerifyImage.do\n")])])]),n("p",[t._v("前端")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("createVerifyImage.do\n")])])]),n("p",[t._v('前端不能加 "/" 否则会变为绝对路径, 而后端却必须要加, 不然启动服务器会出错.')]),t._v(" "),n("p",[t._v("接着点击验证码切换新的 又不能加载.")]),t._v(" "),n("p",[t._v("原因: Javascript 代码没修改.")]),t._v(" "),n("p",[t._v("修改 js 代码后还是出错")]),t._v(" "),n("p",[t._v('又是前端相对路径前面不能 加 " / "')]),t._v(" "),n("h4",{attrs:{id:"总结-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总结-2"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),n("ol",[n("li",[t._v('前端相对路径开头不能有 "/", 后端路径注解必须有')]),t._v(" "),n("li",[t._v("项目开始写代码之前, 路径这些得先确定下来, 开发过程中修改费时间还容易出问题.")])]),t._v(" "),n("h3",{attrs:{id:"cookie-和-session"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cookie-和-session"}},[t._v("#")]),t._v(" Cookie 和 Session")]),t._v(" "),n("ol",[n("li",[t._v("只要注意 cookie的 path 加上项目名就行")]),t._v(" "),n("li",[t._v("广告的精确推送使用 cookie 以前没想到过")])]),t._v(" "),n("h4",{attrs:{id:"session-和-cookie-记住用户登录状态"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#session-和-cookie-记住用户登录状态"}},[t._v("#")]),t._v(" session 和 cookie 记住用户登录状态")]),t._v(" "),n("p",[t._v("用户登录状态在服务端记录才安全. Cookie 用于记住用户名,")]),t._v(" "),n("p",[t._v("是否登录( 次要, 最终还要在服务端用 session 验证一次 ).")]),t._v(" "),n("p",[t._v("参考:")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://blog.csdn.net/huanyinghanlang/article/details/79061802",target:"_blank",rel:"noopener noreferrer"}},[t._v("java利用Session实现三天免登录"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("主要看这: 勾选了记住我 submit 传过来得数值为 1 .")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" remember "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getParameter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"remember"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("remember "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" remember"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("equals")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要记住密码")]),t._v("\n\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将用户名和密码存放在cookie对象中")]),t._v("\n\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cookie")]),t._v(" cookie "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cookie")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"userInfo"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uname "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('":"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" pwd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置有效时间三天")]),t._v("\n\t\t\t\tcookie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setMaxAge")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置有效页面")]),t._v("\n\t\t\t\tcookie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setPath")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/uwo9/login.jsp"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将cookie对象存放至response")]),t._v("\n\t\t\t\tresp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addCookie")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cookie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h4",{attrs:{id:"读取-cookie"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#读取-cookie"}},[t._v("#")]),t._v(" 读取 cookie")]),t._v(" "),n("p",[t._v("需要先进行类型转换再得到 cookie")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletRequest")]),t._v(" request "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletRequest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Cookie")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" cookies "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCookies")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("同理, 设置 cookie 需要")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletResponse")]),t._v("  response"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletResponse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" resp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("字符串分割取 cookie 里面的用户名和密码")]),t._v(" "),n("p",[t._v("参考:")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://blog.csdn.net/qq_39668217/article/details/87733608?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param",target:"_blank",rel:"noopener noreferrer"}},[t._v("JAVA删除Cookie"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.runoob.com/java/java-string-split.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java split() 方法"),n("OutboundLink")],1)]),t._v(" "),n("h3",{attrs:{id:"权限分配实现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#权限分配实现"}},[t._v("#")]),t._v(" 权限分配实现")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("问题")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("后端怎么判断有没有某个权限。")]),t._v(" "),n("p",[n("s",[t._v("每个权限分开判断？判断一次查询一次数据库？")])]),t._v(" "),n("p",[t._v("查询出所有权限，从查询结果判断有没有当前访问资源的权限。（性能低一些，但是现在这个阶段不用考虑性能问题，以后可以放在缓存中）")])])])])]),t._v(" "),n("p",[t._v("这个难点在于数据库的设计和下面的 sql 语句, 不过老师给了数据库设计结构. 多对多结构")]),t._v(" "),n("p",[t._v("查询当前登录用户所属的角色，然后查询这些角色拥有权限的资源信息, .")]),t._v(" "),n("div",{staticClass:"language-mysql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("SELECT\n\t*\nFROM\n\tt_resource\nWHERE\n\tresourceId IN (\n\t\tSELECT\n\t\t\tresourceId\n\t\tFROM\n\t\t\tt_role_resource\n\t\tWHERE\n\t\t\troleId IN (\n\t\t\t\tSELECT\n\t\t\t\t\troleId\n\t\t\t\tFROM\n\t\t\t\t\tt_user_role\n\t\t\t\tWHERE\n\t\t\t\t\tuserName = ?\n\t\t\t)\n\t)\n")])])]),n("p",[t._v("上面这 sql 语句")]),t._v(" "),n("p",[t._v("先看最上面 查询结果是 t_resource 表中的所有信息。")]),t._v(" "),n("p",[t._v("再看 最后一句：通过用户名查询。")]),t._v(" "),n("p",[t._v("再看中间：通过用户名查询用户属于哪个角色。管理员还是用户等")]),t._v(" "),n("p",[t._v("合起来：通过用户名查询这个用户拥有权限的所有资源信息。")]),t._v(" "),n("p",[t._v("如果某个资源没有权限，则查询不到。")]),t._v(" "),n("p",[t._v("判断指定的资源（代码实现中我使用的 resourceName 判断，感觉需要改进）在不在查询结果中完成权限判断。")]),t._v(" "),n("p",[t._v("看了之前的代码，发现查询结果返回类写错了。原因是 sql 语句没看懂。")]),t._v(" "),n("p",[t._v("改好了之后，发现 List<> 用法不会，谷歌一下，之后再考虑 permittionFilter 之后怎么重定向，传什么数据，感觉好像哪里不对。突然想起 filter 是中间过程，过滤通过后需要调用 chain.dofilter。之前对 filter 的工作原理理解错误：忘了 filter 是中间过程，之前错误的将它直接当成 servlet 来使用")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[t._v("chain"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("dofilter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" resp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[n("s",[t._v("并将页面重定向封装为一个方法")])]),t._v(" "),n("p",[t._v("也就两三行，感觉封装没必要（或者因为我封装得太差了？）")]),t._v(" "),n("h2",{attrs:{id:"第七周课"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第七周课"}},[t._v("#")]),t._v(" 第七周课")]),t._v(" "),n("h3",{attrs:{id:"json-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#json-2"}},[t._v("#")]),t._v(" JSON")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("JSON.parse(): 用于将一个 JSON 字符串转换为 JavaScript 对象")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{"name":"alex"}\'')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{name:\"alex\"}'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 错误 name 需要加双引号")]),t._v("\n")])])])]),t._v(" "),n("li",[n("p",[t._v("JSON.stringify(): 用于将 JavaScript 值转换为 JSON 字符串。")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" jsonStr"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"alex"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),n("h3",{attrs:{id:"jquery"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jquery"}},[t._v("#")]),t._v(" jQuery")]),t._v(" "),n("h4",{attrs:{id:"属性获取"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#属性获取"}},[t._v("#")]),t._v(" 属性获取")]),t._v(" "),n("p",[t._v("表单：val")]),t._v(" "),n("p",[t._v("其他：html text")]),t._v(" "),n("h4",{attrs:{id:"css-选择器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#css-选择器"}},[t._v("#")]),t._v(" css 选择器")]),t._v(" "),n("p",[t._v("用的 css 选择器较多")]),t._v(" "),n("h4",{attrs:{id:"属性选择器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#属性选择器"}},[t._v("#")]),t._v(" 属性选择器")]),t._v(" "),n("h4",{attrs:{id:"基本过滤选择器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基本过滤选择器"}},[t._v("#")]),t._v(" 基本过滤选择器")]),t._v(" "),n("p",[t._v(":first")]),t._v(" "),n("p",[t._v(":last")]),t._v(" "),n("p",[t._v(":even")]),t._v(" "),n("p",[t._v(":odd")]),t._v(" "),n("h4",{attrs:{id:"方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方法"}},[t._v("#")]),t._v(" 方法")]),t._v(" "),n("p",[t._v("ajax 方法例子")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#b1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("click")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        username"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#username"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("val")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        password"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#password"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("val")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ajax")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        url"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"login.do"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        type"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        data"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        dataType"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JSON"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("error")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" internet error"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h4",{attrs:{id:"查询例子"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查询例子"}},[t._v("#")]),t._v(" 查询例子")]),t._v(" "),n("p",[t._v("组合查询 某些支持模糊查询")]),t._v(" "),n("h2",{attrs:{id:"作业-3-笔记"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#作业-3-笔记"}},[t._v("#")]),t._v(" 作业 3 笔记")]),t._v(" "),n("p",[n("s",[t._v("登录用原生 Javascript 和 XMLHttpRequest 完成")])]),t._v(" "),n("p",[t._v("登录注册都用 jQuery 和 Ajax 完成，原生 Javascript 太难用了。")]),t._v(" "),n("h3",{attrs:{id:"第一步-修改-javascript-代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第一步-修改-javascript-代码"}},[t._v("#")]),t._v(" 第一步 修改 Javascript 代码")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("首先参考老师的代码将 Javascript 代码修改成了函数调用的。")])]),t._v(" "),n("li",[n("p",[t._v("需要写后端返回 JSON 数据的接口。")]),t._v(" "),n("p",[t._v("参考：["),n("a",{attrs:{href:"https://my.oschina.net/u/4287266/blog/3891785",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaWeb 返回json数据的两种方式"),n("OutboundLink")],1),t._v("](https://my.oschina.net/u/4287266/blog/3891785)")]),t._v(" "),n("p",[t._v("文章中提到的第一种方法 找不到 JSONObject，所以用第二种。")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[t._v("login_info "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"登录成功"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nresp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setContentType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/json;charset=utf-8;"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" result "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" {\\"code\\": 0,\\"info\\": \\""')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" login_info "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\"}"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nresp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getWriter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("需要用转义字符 \\ 转义 引号。")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[t._v("String result = "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" {\\"code\\": 1,\\"info\\": \\""')]),t._v(" + login_info + "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\"}"')]),t._v(";\n")])])]),n("p",[t._v("改好后，先测试第一个，出错。需要修改过滤器配置文件。")]),t._v(" "),n("p",[t._v("将 ajaxLoginCheck.do 加入不需要访问权限的。还是 404 .")]),t._v(" "),n("p",[t._v("发现是前端传过来的参数不对。后端需要的是 userName， 我传来的是 email，修改又有 500 （服务器内部错误）问题。数据库连接出了问题（我根本没开数据库），后面找个空闲时间再安排好数据库。")]),t._v(" "),n("p",[t._v("把查询数据库的操作改为了自己手动新建一个 User 对象，然后测试，")]),t._v(" "),n("p",[t._v("一直出现验证码错误。。原来又是前端传的 验证码 变量名称和后端的不一样。")]),t._v(" "),n("p",[t._v("终于改好了")]),t._v(" "),n("p",[t._v("谨记：前后端传的参数一定要协商好，前后端传送的参数不要随便修改，不然后期测试容易懵逼而且替换起来真的难受。")])])]),t._v(" "),n("h2",{attrs:{id:"第四次作业"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第四次作业"}},[t._v("#")]),t._v(" 第四次作业")]),t._v(" "),n("h3",{attrs:{id:"页面设计"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#页面设计"}},[t._v("#")]),t._v(" 页面设计")]),t._v(" "),n("p",[t._v("尽量不出现滚动条")]),t._v(" "),n("p",[t._v("表格导航栏固定")]),t._v(" "),n("h2",{attrs:{id:"项目开发流程介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#项目开发流程介绍"}},[t._v("#")]),t._v(" 项目开发流程介绍")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("需求分析")])]),t._v(" "),n("li",[n("p",[t._v("设计")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("前端")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("布局")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("html div container span")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("表格")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("thead 标题")]),t._v(" "),n("p",[t._v("不用 tr 方便选择")])]),t._v(" "),n("li",[n("p",[t._v("tfoot 页脚")]),t._v(" "),n("p",[t._v("同上")])])])]),t._v(" "),n("li",[n("p",[t._v("浮动")]),t._v(" "),n("p",[t._v("左右浮动")])])])]),t._v(" "),n("li",[n("p",[t._v("任何元素都能做按钮，通过 css 设置美化")])])])]),t._v(" "),n("li",[n("p",[t._v("样式")]),t._v(" "),n("ul",[n("li",[t._v("渐变色")]),t._v(" "),n("li",[t._v("bootstrap")]),t._v(" "),n("li",[t._v("阿里巴巴图标素材 alifont")])])]),t._v(" "),n("li",[n("p",[t._v("框架")]),t._v(" "),n("ul",[n("li",[t._v("bootstrap")]),t._v(" "),n("li",[t._v("vue 的 elementUI")])])])])]),t._v(" "),n("li",[n("p",[t._v("后端")]),t._v(" "),n("ul",[n("li",[t._v("Controller DAO")])])]),t._v(" "),n("li",[n("p",[t._v("交互")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("人机交互")])]),t._v(" "),n("li",[n("p",[t._v("交互数据的封装")]),t._v(" "),n("p",[t._v("前端请求后端数据返回的接口设计")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("page分页查询参数")]),t._v(" "),n("p",[t._v("? 开头的查询参数")]),t._v(" "),n("p",[t._v("JSON 数据需要用输入输出流才能接收")])]),t._v(" "),n("li",[n("p",[t._v("服务器返回")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("记录条数 当前为第几页")]),t._v(" "),n("p",[t._v("总之：就是看前端要什么数据，后端返回什么数据。")])])])])])])])])])]),t._v(" "),n("li",[n("p",[t._v("实现")]),t._v(" "),n("p",[t._v("注重设计，设计好了写代码就是简单的事情了。")])]),t._v(" "),n("li",[n("p",[t._v("测试")])]),t._v(" "),n("li",[n("p",[t._v("部署")])]),t._v(" "),n("li",[n("p",[t._v("维护")])]),t._v(" "),n("li",[n("p",[t._v("持续集成")])])])],1)}),[],!1,null,null,null);a.default=e.exports}}]);