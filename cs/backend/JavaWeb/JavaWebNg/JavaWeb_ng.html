<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java Web -ng-02 | MarkDown Notes</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="&#39;stylesheet" href="/Note/styles/website.css">
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/Note/assets/css/0.styles.c3b168f2.css" as="style"><link rel="preload" href="/Note/assets/js/app.adf69be5.js" as="script"><link rel="preload" href="/Note/assets/js/4.48b2d7ab.js" as="script"><link rel="preload" href="/Note/assets/js/7.286d6d70.js" as="script"><link rel="preload" href="/Note/assets/js/19.9d24d6b5.js" as="script"><link rel="prefetch" href="/Note/assets/js/10.75fe931b.js"><link rel="prefetch" href="/Note/assets/js/11.7e4a92a1.js"><link rel="prefetch" href="/Note/assets/js/12.b7b976a8.js"><link rel="prefetch" href="/Note/assets/js/13.2c7d0583.js"><link rel="prefetch" href="/Note/assets/js/14.82ef1851.js"><link rel="prefetch" href="/Note/assets/js/15.e6e757d6.js"><link rel="prefetch" href="/Note/assets/js/16.fed5555c.js"><link rel="prefetch" href="/Note/assets/js/17.e367402c.js"><link rel="prefetch" href="/Note/assets/js/18.c099e679.js"><link rel="prefetch" href="/Note/assets/js/2.d0bd9d1e.js"><link rel="prefetch" href="/Note/assets/js/20.e2e0e9d5.js"><link rel="prefetch" href="/Note/assets/js/21.8c3114e6.js"><link rel="prefetch" href="/Note/assets/js/22.19e1ff48.js"><link rel="prefetch" href="/Note/assets/js/23.44227055.js"><link rel="prefetch" href="/Note/assets/js/24.a422c1ab.js"><link rel="prefetch" href="/Note/assets/js/25.6b5ea814.js"><link rel="prefetch" href="/Note/assets/js/26.968e0ebb.js"><link rel="prefetch" href="/Note/assets/js/27.126a80be.js"><link rel="prefetch" href="/Note/assets/js/28.8c8f2e1b.js"><link rel="prefetch" href="/Note/assets/js/29.69d8d34b.js"><link rel="prefetch" href="/Note/assets/js/3.75c82613.js"><link rel="prefetch" href="/Note/assets/js/30.10a3a319.js"><link rel="prefetch" href="/Note/assets/js/31.0fa3786a.js"><link rel="prefetch" href="/Note/assets/js/32.e5fd4dd3.js"><link rel="prefetch" href="/Note/assets/js/33.1b972385.js"><link rel="prefetch" href="/Note/assets/js/34.a7cca470.js"><link rel="prefetch" href="/Note/assets/js/35.c8b5b603.js"><link rel="prefetch" href="/Note/assets/js/36.962ad51b.js"><link rel="prefetch" href="/Note/assets/js/37.2f0409dc.js"><link rel="prefetch" href="/Note/assets/js/38.21a40200.js"><link rel="prefetch" href="/Note/assets/js/39.57663d1f.js"><link rel="prefetch" href="/Note/assets/js/40.c6426cd1.js"><link rel="prefetch" href="/Note/assets/js/41.93637a38.js"><link rel="prefetch" href="/Note/assets/js/42.5f9a9835.js"><link rel="prefetch" href="/Note/assets/js/43.60d0a665.js"><link rel="prefetch" href="/Note/assets/js/44.bc777d87.js"><link rel="prefetch" href="/Note/assets/js/5.5effbad7.js"><link rel="prefetch" href="/Note/assets/js/6.a726b70e.js"><link rel="prefetch" href="/Note/assets/js/8.9f5f4876.js"><link rel="prefetch" href="/Note/assets/js/9.44b8c1f5.js">
    <link rel="stylesheet" href="/Note/assets/css/0.styles.c3b168f2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Note/" class="home-link router-link-active"><!----> <span class="site-name">MarkDown Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Note/Navigate.html" class="nav-link">
  导航页
</a></div><div class="nav-item"><a href="/Note/exam/examtime.html" class="nav-link">
  课程与考试
</a></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/chengziqaq/Note" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Note/Navigate.html" class="nav-link">
  导航页
</a></div><div class="nav-item"><a href="/Note/exam/examtime.html" class="nav-link">
  课程与考试
</a></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/chengziqaq/Note" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/Note/Navigate.html" class="sidebar-link">导航</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>后端</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Django</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>JavaWeb</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html" aria-current="page" class="active sidebar-link">JavaWeb-NG</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#部署方式" class="sidebar-link">部署方式</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#项目文件存放目录" class="sidebar-link">项目文件存放目录</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#idea-web-项目创建" class="sidebar-link">idea web 项目创建</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#配置文件解析" class="sidebar-link">配置文件解析</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#问题" class="sidebar-link">问题</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#作业" class="sidebar-link">作业</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#总结" class="sidebar-link">总结</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#servelet" class="sidebar-link">servelet</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#html" class="sidebar-link">html</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#http-方法" class="sidebar-link">HTTP 方法</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#地址映射" class="sidebar-link">地址映射</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#用户登录案例" class="sidebar-link">用户登录案例</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#出错" class="sidebar-link">出错</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#el-表达式不显示" class="sidebar-link">el 表达式不显示</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#访问网址错误导致-jstl-和-el-数据不显示" class="sidebar-link">访问网址错误导致 jstl 和 el 数据不显示</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#jsp-java-server-page" class="sidebar-link">JSP (Java Server Page)</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#流程控制" class="sidebar-link">流程控制</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#数据库" class="sidebar-link">数据库</a></li><li class="sidebar-sub-header"><a href="/Note/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.html#过滤器" class="sidebar-link">过滤器</a></li></ul></li><li><a href="/Note/cs/backend/JavaWeb/KsJavaWeb/JavaWeb入门到实战.html" class="sidebar-link">JavaWeb-KS</a></li></ul></section></li><li><a href="/Note/cs/backend/SpringBoot/SpringBoot.html" class="sidebar-link">Spring Boot</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>C</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机基础课程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>大三上</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>桌面应用开发</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>学习方法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络安全</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-succinct-content content__default"><h1 id="java-web-ng-02"><a href="#java-web-ng-02" class="header-anchor">#</a> Java Web -ng-02</h1> <h2 id="部署方式"><a href="#部署方式" class="header-anchor">#</a> 部署方式</h2> <p>三种</p> <ol><li></li> <li></li> <li></li></ol> <h2 id="项目文件存放目录"><a href="#项目文件存放目录" class="header-anchor">#</a> 项目文件存放目录</h2> <h3 id="前端"><a href="#前端" class="header-anchor">#</a> 前端</h3> <ul><li><p>静态文件:</p> <p>html 根目录</p> <ul><li><p>js/</p></li> <li><p>css/</p></li> <li><p>image/</p></li></ul></li> <li><p>动态文件:</p> <p>*.jsp</p></li></ul> <h3 id="后端"><a href="#后端" class="header-anchor">#</a> 后端</h3> <p>均放于 WEB-INF 目录下</p> <p>WEB-INF</p> <p>classes: 按源代码的结构编译好的*.class 文件</p> <p>lib: 存放程序所需要的包(*.jar)</p> <p>web.xml: 本应用配置文件</p> <h2 id="idea-web-项目创建"><a href="#idea-web-项目创建" class="header-anchor">#</a> idea web 项目创建</h2> <p>out.flush: 立即输出, 不用等待缓存完毕就输出</p> <h2 id="配置文件解析"><a href="#配置文件解析" class="header-anchor">#</a> 配置文件解析</h2> <h3 id="web-xml"><a href="#web-xml" class="header-anchor">#</a> web.xml</h3> <h2 id="问题"><a href="#问题" class="header-anchor">#</a> 问题</h2> <ol><li>三种 web 服务器配置方法(主要用第三种方法)</li> <li>idea 生成的文件太少, 以及怎么在 idea 上配置开发环境</li> <li>配置文件的作用</li></ol> <h2 id="作业"><a href="#作业" class="header-anchor">#</a> 作业</h2> <ol><li>重现一次访问</li> <li>DAO 数据库写好</li> <li></li></ol> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>配置文件:</p> <p>web.xml 中的</p> <servelet-mapping></servelet-mapping> <h2 id="servelet"><a href="#servelet" class="header-anchor">#</a> servelet</h2> <p>教材 P19</p> <h2 id="html"><a href="#html" class="header-anchor">#</a> html</h2> <ol><li><p>p 标签自动换行</p></li> <li><p>span 不换行换行</p></li> <li><p>列表</p> <p>无序<ul></ul></p> <p>有序<ol></ol></p></li> <li><p>表格</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ol> <h2 id="http-方法"><a href="#http-方法" class="header-anchor">#</a> HTTP 方法</h2> <p>GET: 不安全 有长度限制</p> <p>POST:</p> <p>POST 请求时, 客户端发送非西文数据时使用编码: iso 8859-1</p> <p>服务端需要将此编码转换为 UTF-8 编码.</p> <p>转换方法:</p> <p>两种方法搭配使用</p> <ol><li><p>调用 request 对象提供的方法</p> <div class="language-java extra-class"><pre class="language-java"><code>request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>手工编码 可对单个数据编码进行转换</p></li></ol> <h1 id="javaweb-03"><a href="#javaweb-03" class="header-anchor">#</a> javaweb-03</h1> <h2 id="地址映射"><a href="#地址映射" class="header-anchor">#</a> 地址映射</h2> <ol><li><p>注解</p> <p>例子</p> <p>在类名前加入注解 @WebServlet(&quot;/test&quot;)</p> <p>redeploy 服务器</p> <p>访问 http://localhost:8080/javaweb_02_servlet_war/test</p> <p><strong>注意</strong>:</p> <ul><li><p>注解中 @WebServlet(&quot;/test&quot;)</p> <p>test 前面的斜杠不能忘记, 否则 tomcat 会启动失败. 上课时困扰了我至少 20 分钟</p></li></ul></li> <li><p>配置文件</p></li></ol> <h2 id="用户登录案例"><a href="#用户登录案例" class="header-anchor">#</a> 用户登录案例</h2> <ul><li>用户名 密码 验证码</li></ul> <h2 id="出错"><a href="#出错" class="header-anchor">#</a> 出错</h2> <h3 id="url-地址写错"><a href="#url-地址写错" class="header-anchor">#</a> url 地址写错</h3> <p>正确写法:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/controller/vcode.do&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CreateVerifyCodeImagesServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
<span class="token comment">//        System.out.println(&quot;验证码&quot;);</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>出错原因, urlPatterns 参数要以 &quot;/&quot; 开头.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 错误写法</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;controller/vcode.do&quot;</span><span class="token punctuation">)</span>
<span class="token comment">//正确写法</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/controller/vcode.do&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h1 id="作业-1-复习笔记"><a href="#作业-1-复习笔记" class="header-anchor">#</a> 作业 1 复习笔记</h1> <h3 id="_4-2-虚拟目录的配置"><a href="#_4-2-虚拟目录的配置" class="header-anchor">#</a> 4.2 虚拟目录的配置</h3> <h4 id="定义-建立-url-地址与项目的物理路径之间的映射-这个过程叫做虚拟路径的映射。"><a href="#定义-建立-url-地址与项目的物理路径之间的映射-这个过程叫做虚拟路径的映射。" class="header-anchor">#</a> 定义: 建立 URL 地址与项目的物理路径之间的映射，这个过程叫做虚拟路径的映射。</h4> <p>例如：在浏览器中输入地址 <a href="http://localhost:8080/test/index.html" target="_blank" rel="noopener noreferrer">http://localhost:8080/test/index.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>服务器必须知道/test（虚拟目录）这个目录对应服务器中的哪个物理目录</p> <p>有三种方法, 方法 3 用的多, 主要看它.</p> <h4 id="配置方法-3"><a href="#配置方法-3" class="header-anchor">#</a> 配置方法 3</h4> <p>在 $Tomcat_home$\conf\Catalina\localhost 路径下新建一个 XML 文件（conf 目录下如果没有对应子目录，请手工新建），注意：XML 文件的名字必须和定义的虚拟目录名一致，在下例中，文件名必须为 test.xml，文件内容如下:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Context</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/test<span class="token punctuation">&quot;</span></span> <span class="token attr-name">docBase</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/Volumes/WinMacCode/IdeaProjects/javaweb/javaweb-02-servlet/src/main/webapp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">reloadable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Context</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>浏览器中输入 http://127.0.0.1:8080/test/index.html 也可访问到 d:/myweb/index.html 文件</p> <p>推荐使用第三种配置方法，对于该种配置方法，web 应用程序可以存放在服务器的任何位置，每个应用一个单独的配置文件。</p> <h4 id="注意"><a href="#注意" class="header-anchor">#</a> 注意</h4> <ol><li>test 为虚拟目录</li> <li>xml 配置文件的 docBase 是静态文件 html css js 的目录(docBase 目录需要改为你自己的静态文件夹目录)</li> <li>reloadable 表示热部署. 文件发生改变 tomcat 自动重启</li></ol> <h3 id="idea-maven-新建项目"><a href="#idea-maven-新建项目" class="header-anchor">#</a> IDEA Maven 新建项目</h3> <h4 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h4> <ol><li><p><a href="https://www.bilibili.com/video/BV12J411M7Sj?p=60" target="_blank" rel="noopener noreferrer">javaweb-06：IDEA 中 Maven 的操作<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://blog.csdn.net/m0_46587577/article/details/107290521" target="_blank" rel="noopener noreferrer">IDEA 2020 创建 Maven web 项目<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ol> <p><img src="/Note/assets/img/image-20200920105823124.b9c105cf.png" alt="image-20200920105823124"></p> <p>输入项目名称, 然后一路下一步, 等待 maven 运行完成</p> <p>因为我想在一个文件夹下能有多个项目. 需要做以下操作.</p> <ol><li><p>删除 src 目录</p> <p>删除后目录结构</p> <p><img src="/Note/assets/img/image-20200920110242782.f7e7e926.png" alt="image-20200920110242782"></p></li> <li><p>左键点击项目名称--&gt; 右键单击 --&gt; new --&gt; module</p> <p><img src="/Note/assets/img/image-20200920110447308.28528f98.png" alt="image-20200920110447308"></p> <p>进行和开始新建项目同样的操作</p></li></ol> <p><img src="/Note/assets/img/image-20200920110636065.8c694d45.png" alt="image-20200920110636065"></p> <p>这里项目名我填入为 web01servlet, 然后一路默认下一步, 再次等待 maven 跑完</p> <p><img src="/Note/assets/img/image-20200920110732006.c32a952d.png" alt="image-20200920110732006"></p> <ol start="3"><li><p>添加 tomcat 服务器配置</p> <p>参考 <a href="https://blog.csdn.net/fengchao2016/article/details/83023725" target="_blank" rel="noopener noreferrer">IDEA 集成 Tomcat <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>当静态文件改变和 java 代码改变后 需要 restart server</p> <p><s>当 java 文件改变后 需要 redeploy</s></p></li></ol> <p><img src="/Note/assets/img/image-20200920115915632.a9e29361.png" alt="image-20200920115915632"></p> <ol start="4"><li><p>在 src 下 新建 目录 java 和 resources</p> <p><img src="/Note/assets/img/image-20200920120416840.4fec8482.png" alt="image-20200920120416840"></p></li> <li><p>在 maven 中添加 servlet 依赖.</p> <p>打开子项目里的 pom.xml 粘贴以下内容到 dependencies 下级去, 然后点击 maven 图标 下载依赖包</p> <div class="language-xml extra-class"><pre class="language-xml"><code>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javax.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.0.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jsp-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ol> <h3 id="以下内容是用-maven-的父结构-未完成-待补充"><a href="#以下内容是用-maven-的父结构-未完成-待补充" class="header-anchor">#</a> 以下内容是用 maven 的父结构 未完成 待补充</h3> <p><img src="/Note/assets/img/image-20200920123351849.9cafa0f8.png" alt="image-20200920123351849"></p> <p><img src="/Note/assets/img/image-20200920120758891.91680fca.png" alt="image-20200920120758891"></p> <h3 id="结束"><a href="#结束" class="header-anchor">#</a> 结束</h3> <ol start="6"><li>上课时跟着老师敲了一部分代码. 现在跟着文档完善一下.</li></ol> <p>然后启动服务器.</p> <hr> <p>9.21 晚上补充</p> <h3 id="验证码动态生成"><a href="#验证码动态生成" class="header-anchor">#</a> 验证码动态生成</h3> <p>照着老师的文档的代码敲了一遍</p> <p>生成验证码的代码完成.</p> <p>需要自己看的有 java 怎么绘画验证码.</p> <p>有一个地方需要修改.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//CreateVerifyImageController中</span>
resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;image/jpeg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//老师的代码 中 img = image 基本问题也不大, 但是用谷歌浏览器打开网址, 他会当做文件来下载, 强迫症犯了..通过一个我经常用的网站看到 返回类型该改为image/jepg</span>
</code></pre></div><p>验证码放于 session 中</p> <p>在 github 找了个前端注册登录代码 改了一下 效果如下, 修改了 js 代码 点击图片刷新验证码也行了</p> <p>还需要修改 css 使得验证码和输入框位于同一个行内</p> <p><img src="/Note/assets/img/image-20200922000326487.bf2b2d65.png" alt="image-20200922000326487"></p> <h3 id="登录出错页面"><a href="#登录出错页面" class="header-anchor">#</a> 登录出错页面</h3> <p><a href="https://github.com/HttpErrorPages/HttpErrorPages/tree/master/dist" target="_blank" rel="noopener noreferrer">出错前端模板<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>html 文件名字有大写的 tomcat 不能查看 显示 404?</p> <p>后来又行了? 令人迷惑.</p> <p>可能是缓存问题, 但是我也 restart server 并且 redeploy</p> <p>又来了更迷惑的事情.</p> <p>同一个文件夹下</p> <p>HTTP500.html 不能访问</p> <p>HTTP404.html 可以访问</p> <h2 id="el-表达式不显示"><a href="#el-表达式不显示" class="header-anchor">#</a> el 表达式不显示</h2> <p>需要在 jsp 文件前面加入以下代码</p> <p>参考: <a href="https://blog.csdn.net/lianzhang861/article/details/81232351" target="_blank" rel="noopener noreferrer">EL 表达式无法显示，直接显示${xxx}<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-jsp extra-class"><pre class="language-text"><code>&lt;%@ page isELIgnored=&quot;false&quot; %&gt;
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/controller/login.do&quot;</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token string">&quot;login.do&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginController</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> login_info <span class="token operator">=</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">;</span>
        req<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;login_info&quot;</span><span class="token punctuation">,</span> login_info<span class="token punctuation">)</span><span class="token punctuation">;</span>
        req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/error.jsp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><div class="language-jsp extra-class"><pre class="language-text"><code>&lt;%@ page language=&quot;java&quot; pageEncoding=&quot;UTF-8&quot; %&gt;
&lt;%@ page isELIgnored=&quot;false&quot; %&gt;
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;JSP显示Servlet&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    ${login_info}
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div><h2 id="访问网址错误导致-jstl-和-el-数据不显示"><a href="#访问网址错误导致-jstl-和-el-数据不显示" class="header-anchor">#</a> 访问网址错误导致 jstl 和 el 数据不显示</h2> <p>正确的访问网址为</p> <p>/getDownloadList.do</p> <p>但是我在测试的时候直接访问的 /download.jsp 是不正确的</p> <p>servlet 需要传数据给 jsp 文件, 若直接访问 jsp 文件, 没有这个过程,没数据传入,则没有显示.</p> <p>只有访问 /getDownloadList.do 才能使得 jsp 文件得到数据</p> <h1 id="第三周课"><a href="#第三周课" class="header-anchor">#</a> 第三周课</h1> <h3 id="mvc-模型"><a href="#mvc-模型" class="header-anchor">#</a> MVC 模型</h3> <ul><li><p>Model 模型</p> <p>数据库相关 JavaBean</p></li> <li><p>View 视图</p></li> <li><p>Controller 控制器</p></li></ul> <p>和 Django 的 MVC 一样</p> <p>Model 和数据库相关</p> <p>View 响应和数据处理</p> <h3 id="servlet"><a href="#servlet" class="header-anchor">#</a> Servlet</h3> <p>中间层</p> <h4 id="servlet-方法"><a href="#servlet-方法" class="header-anchor">#</a> servlet 方法</h4> <p>各种方法需要的参数以及返回值可以看源码或者教材</p> <ol><li><p>init</p> <p>首次启动调用.</p></li> <li><p>destroy</p> <p>卸载时调用.</p></li> <li><p>service</p> <p>顾名思义 服务是一直运行着的</p> <ul><li><p>doPost</p></li> <li><p>doGet</p></li></ul></li></ol> <h3 id="新建-servlet"><a href="#新建-servlet" class="header-anchor">#</a> 新建 servlet</h3> <p>参考 <a href="https://blog.csdn.net/chang_ge/article/details/79917956" target="_blank" rel="noopener noreferrer">使用 IntelliJ IDEA 新建一个 Servlet 项目<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="两种-url-映射方法"><a href="#两种-url-映射方法" class="header-anchor">#</a> 两种 URL 映射方法</h4> <p>参考</p> <p><a href="https://blog.csdn.net/yhao2014/article/details/45740111" target="_blank" rel="noopener noreferrer">Intellij idea 创建 javaWeb 以及 Servlet 简单实现<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ol><li><p>web.xml 配置文件</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--  注册HelloServlet开始--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--    类名--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>controller.HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--  servlet请求路径--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--    虚拟路径--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--  注册HelloServlet结束--&gt;</span>
</code></pre></div></li></ol> <ol start="2"><li><p>注解</p> <p>在 类名 上注解</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/HelloServlet&quot;</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token string">&quot;HelloServlet&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
<span class="token comment">//        ServletOutputStream outputStream = resp.getOutputStream();</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//响应流</span>
        writer<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello servlet changed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span>  <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <p>两者选一个就行, 注解用得多些</p> <h3 id="httpservletrequest-对象"><a href="#httpservletrequest-对象" class="header-anchor">#</a> HttpServletRequest 对象</h3> <h3 id="获得客户机请求头"><a href="#获得客户机请求头" class="header-anchor">#</a> <strong>获得客户机请求头</strong></h3> <h3 id="获得客户机请求参数"><a href="#获得客户机请求参数" class="header-anchor">#</a> 获得客户机请求参数</h3> <h1 id="第四周课"><a href="#第四周课" class="header-anchor">#</a> 第四周课</h1> <ul><li>前端页面网址 没有斜杠开头 后端却是以斜杠开头(web.xml 配置文件 和 类名上的注解 )</li></ul> <h2 id="jsp-java-server-page"><a href="#jsp-java-server-page" class="header-anchor">#</a> JSP (Java Server Page)</h2> <p>动态页面, html 文件里嵌入 Java 代码</p> <h3 id="语法格式"><a href="#语法格式" class="header-anchor">#</a> 语法格式</h3> <p>&lt;%@ 指令名 attribute1=&quot;value1&quot; %&gt;</p> <p>教材 P49</p> <p>和 Django 的模板语言类似</p> <p>服务器可以返回 基本数据类型 对象 集合等</p> <p>jstl uri 在包内没找到</p> <p>解决</p> <p><a href="https://blog.csdn.net/qq_29227939/article/details/52063869" target="_blank" rel="noopener noreferrer">配置 Jstl 的 Maven 依赖<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>但是这个 maven 配置直接复制过来 有 Maven 依赖重复问题</p> <p>使用 fo 循环</p> <p>body 中</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>forEach</span> <span class="token attr-name">items</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${downloadList}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">var</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>download<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${download.image}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>${download.description}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">c:</span>forEach</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>jsp 里最好别写代码. 多数用来数据展示。</p> <h2 id="流程控制"><a href="#流程控制" class="header-anchor">#</a> 流程控制</h2> <p>(不推荐用 JSP 做流程控制)</p> <p>必须要写 Java 代码, 后期可以使用 过滤器 简化</p> <p>若用到了 Java 中的 类 需要在头文件 import 该类</p> <h2 id="数据库"><a href="#数据库" class="header-anchor">#</a> 数据库</h2> <p><a href="https://www.cnblogs.com/dadian/p/11938707.html" target="_blank" rel="noopener noreferrer">IDEA Maven mysql 数据库操作 有 java 代码例子<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>没安装数据库.</p> <p>代码位于 src/main/java/DAO/UserDAO.java 中</p> <h1 id="第五周课"><a href="#第五周课" class="header-anchor">#</a> 第五周课</h1> <h2 id="过滤器"><a href="#过滤器" class="header-anchor">#</a> 过滤器</h2> <p>访问控制, 拦截请求, 对请求重新编码和压缩响应信息等</p> <h3 id="filter-配置"><a href="#filter-配置" class="header-anchor">#</a> filter 配置</h3> <ul><li><p>web.xml 配置</p> <p>filter 和 filter-mapping 标记</p> <p>支持通配符</p></li> <li><p>注解</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span>urlPattterns <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;@&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>可加入初始化参数</p></li></ul> <p>注意: 过滤器过滤的路径不包括前端静态文件(即对 html css js 无效). 对 jsp 有效</p> <ul><li><p>过滤器使用</p></li> <li><p>为了减少硬编码, 可以使用配置文件, 但是和注解比较起来, 较麻烦.</p></li></ul> <h1 id="第六周课-ajax"><a href="#第六周课-ajax" class="header-anchor">#</a> 第六周课 AJAX</h1></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/chengziqaq/Note/edit/master/cs/backend/JavaWeb/JavaWebNg/JavaWeb_ng.md" target="_blank" rel="noopener noreferrer"> Edit on Github </a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/8/2020, 11:21:42 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ⟵
      <a href="/Note/cs/backend/Django/Django.html" class="prev">
        Django 官方文档快速入门教程
      </a></span> <span class="next"><a href="/Note/cs/backend/JavaWeb/KsJavaWeb/JavaWeb入门到实战.html">
        JavaWeb-KS
      </a>
      ⟶
    </span></p></div> </main></div><div class="global-ui"><div style="visibility:hidden;display:none;"></div><!----></div></div>
    <script src="/Note/assets/js/app.adf69be5.js" defer></script><script src="/Note/assets/js/4.48b2d7ab.js" defer></script><script src="/Note/assets/js/7.286d6d70.js" defer></script><script src="/Note/assets/js/19.9d24d6b5.js" defer></script>
  </body>
</html>
