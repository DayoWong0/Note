<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>shell | MarkDown Notes</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="&#39;stylesheet" href="/Note/styles/website.css">
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/Note/assets/css/0.styles.c3b168f2.css" as="style"><link rel="preload" href="/Note/assets/js/app.73d70182.js" as="script"><link rel="preload" href="/Note/assets/js/4.4646cd58.js" as="script"><link rel="preload" href="/Note/assets/js/31.2f2c7e0a.js" as="script"><link rel="preload" href="/Note/assets/js/21.e9278fc3.js" as="script"><link rel="prefetch" href="/Note/assets/js/10.d9f78212.js"><link rel="prefetch" href="/Note/assets/js/11.34e8c89b.js"><link rel="prefetch" href="/Note/assets/js/12.59b69373.js"><link rel="prefetch" href="/Note/assets/js/13.f7cffe1b.js"><link rel="prefetch" href="/Note/assets/js/14.447d83a2.js"><link rel="prefetch" href="/Note/assets/js/15.eff4907c.js"><link rel="prefetch" href="/Note/assets/js/16.dd487c56.js"><link rel="prefetch" href="/Note/assets/js/17.fc6bcaf3.js"><link rel="prefetch" href="/Note/assets/js/18.f87af2cb.js"><link rel="prefetch" href="/Note/assets/js/19.68b19e87.js"><link rel="prefetch" href="/Note/assets/js/2.9689cb6c.js"><link rel="prefetch" href="/Note/assets/js/20.a0c817be.js"><link rel="prefetch" href="/Note/assets/js/22.43d7a1c4.js"><link rel="prefetch" href="/Note/assets/js/23.dd6b3190.js"><link rel="prefetch" href="/Note/assets/js/24.2988fa90.js"><link rel="prefetch" href="/Note/assets/js/25.bb2db29b.js"><link rel="prefetch" href="/Note/assets/js/26.5f180fa6.js"><link rel="prefetch" href="/Note/assets/js/27.cc1ebf00.js"><link rel="prefetch" href="/Note/assets/js/28.d57d19e2.js"><link rel="prefetch" href="/Note/assets/js/29.8ec73889.js"><link rel="prefetch" href="/Note/assets/js/3.97b6ba49.js"><link rel="prefetch" href="/Note/assets/js/30.dfc6ff7b.js"><link rel="prefetch" href="/Note/assets/js/32.cc34b25e.js"><link rel="prefetch" href="/Note/assets/js/33.06b3751a.js"><link rel="prefetch" href="/Note/assets/js/34.77b90375.js"><link rel="prefetch" href="/Note/assets/js/35.8efc47cf.js"><link rel="prefetch" href="/Note/assets/js/36.ddf6126b.js"><link rel="prefetch" href="/Note/assets/js/37.ad31731e.js"><link rel="prefetch" href="/Note/assets/js/38.f8577241.js"><link rel="prefetch" href="/Note/assets/js/39.65a332ec.js"><link rel="prefetch" href="/Note/assets/js/40.eca5d752.js"><link rel="prefetch" href="/Note/assets/js/41.0d7108a5.js"><link rel="prefetch" href="/Note/assets/js/42.1b421ba6.js"><link rel="prefetch" href="/Note/assets/js/43.e3182547.js"><link rel="prefetch" href="/Note/assets/js/44.f61edad4.js"><link rel="prefetch" href="/Note/assets/js/45.a88b929a.js"><link rel="prefetch" href="/Note/assets/js/46.23c8bd64.js"><link rel="prefetch" href="/Note/assets/js/47.d1618d4e.js"><link rel="prefetch" href="/Note/assets/js/5.a01ca270.js"><link rel="prefetch" href="/Note/assets/js/6.8295dc1f.js"><link rel="prefetch" href="/Note/assets/js/7.3f243788.js"><link rel="prefetch" href="/Note/assets/js/8.42c45459.js"><link rel="prefetch" href="/Note/assets/js/9.03f42106.js">
    <link rel="stylesheet" href="/Note/assets/css/0.styles.c3b168f2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Note/" class="home-link router-link-active"><!----> <span class="site-name">MarkDown Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Note/Navigate.html" class="nav-link">
  导航页
</a></div><div class="nav-item"><a href="/Note/exam/examtime.html" class="nav-link">
  课程与考试
</a></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/chengziqaq/Note" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Note/Navigate.html" class="nav-link">
  导航页
</a></div><div class="nav-item"><a href="/Note/exam/examtime.html" class="nav-link">
  课程与考试
</a></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/chengziqaq/Note" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/Note/Navigate.html" class="sidebar-link">导航</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>后端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>C</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机专业课</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Note/cs/Linux/linux.html" class="sidebar-link">Linux</a></li><li><a href="/Note/cs/Linux/shell.html" aria-current="page" class="active sidebar-link">shell 编程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#变量" class="sidebar-link">变量</a></li><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#shell-字符串" class="sidebar-link">Shell 字符串</a></li><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#shell-数组" class="sidebar-link">Shell 数组</a></li><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#shell-注释" class="sidebar-link">Shell 注释</a></li><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#关系运算符" class="sidebar-link">关系运算符</a></li><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#布尔运算符" class="sidebar-link">布尔运算符</a></li><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#逻辑运算符" class="sidebar-link">逻辑运算符</a></li><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#字符串运算符" class="sidebar-link">字符串运算符</a></li><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#文件测试运算符" class="sidebar-link">文件测试运算符</a></li><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#shell-echo-命令" class="sidebar-link">Shell echo 命令</a></li><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#if-else" class="sidebar-link">if else</a></li><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#for-循环" class="sidebar-link">for 循环</a></li><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#while-语句" class="sidebar-link">while 语句</a></li><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#until-循环" class="sidebar-link">until 循环</a></li><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#case" class="sidebar-link">case</a></li><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#跳出循环" class="sidebar-link">跳出循环</a></li><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#case-esac" class="sidebar-link">case ... esac</a></li><li class="sidebar-sub-header"><a href="/Note/cs/Linux/shell.html#输入重定向" class="sidebar-link">输入重定向</a></li></ul></li><li><a href="/Note/cs/Linux/Git/git.html" class="sidebar-link">git</a></li><li><a href="/Note/cs/Linux/Git/git和Github的基本使用.html" class="sidebar-link">git 和 Github 的基本使用</a></li><li><a href="/Note/cs/Linux/networkProgram.html" class="sidebar-link">Linux 网络编程</a></li><li><a href="/Note/cs/Linux/LinuxNetworkProgramExperiment.html" class="sidebar-link">Linux 网络编程上机实验</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>大三上</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>桌面应用开发</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>学习方法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络安全</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-succinct-content content__default"><h1 id="shell"><a href="#shell" class="header-anchor">#</a> shell</h1> <h2 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h2> <p>第二次赋值的时候不能写$your_name=&quot;alibaba&quot;，使用变量的时候才加美元符（$）。</p> <h3 id="删除变量"><a href="#删除变量" class="header-anchor">#</a> 删除变量</h3> <p>使用 unset 命令可以删除变量。语法：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">unset</span> variable_name
</code></pre></div><p>变量被删除后不能再次使用。unset 命令不能删除只读变量。</p> <h2 id="shell-字符串"><a href="#shell-字符串" class="header-anchor">#</a> Shell 字符串</h2> <p>字符串可以用单引号，也可以用双引号，也可以不用引号。</p> <p>单引号字符串的限制：</p> <ul><li>单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的；</li> <li>单引号字串中不能出现单独一个的单引号（对单引号使用转义符后也不行），但可成对出现，作为字符串拼接使用。</li></ul> <h3 id="双引号"><a href="#双引号" class="header-anchor">#</a> 双引号</h3> <div class="language- extra-class"><pre class="language-text"><code>your_name='runoob'
str=&quot;Hello, I know you are \&quot;$your_name\&quot;! \n&quot;
echo -e $str
</code></pre></div><p>输出结果为：</p> <div class="language- extra-class"><pre class="language-text"><code>Hello, I know you are &quot;runoob&quot;!
</code></pre></div><p>双引号的优点：</p> <ul><li>双引号里可以有变量</li> <li>双引号里可以出现转义字符</li></ul> <h2 id="shell-数组"><a href="#shell-数组" class="header-anchor">#</a> Shell 数组</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">array_name</span><span class="token operator">=</span><span class="token punctuation">(</span>value0 value1 value2 value3<span class="token punctuation">)</span>
</code></pre></div><p>使用 <strong>@</strong> 符号可以获取数组中的所有元素，例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token variable">${array_name<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
</code></pre></div><h3 id="获取数组的长度"><a href="#获取数组的长度" class="header-anchor">#</a> 获取数组的长度</h3> <p>获取数组长度的方法与获取字符串长度的方法相同，例如：</p> <div class="language- extra-class"><pre class="language-text"><code># 取得数组元素的个数
length=${#array_name[@]}
# 或者
length=${#array_name[*]}
# 取得数组单个元素的长度
lengthn=${#array_name[n]}
</code></pre></div><h2 id="shell-注释"><a href="#shell-注释" class="header-anchor">#</a> Shell 注释</h2> <p>以 <strong>#</strong> 开头的行就是注释，会被解释器忽略。</p> <p>通过每一行加一个 <strong>#</strong> 号设置多行注释</p> <h3 id="多行注释"><a href="#多行注释" class="header-anchor">#</a> 多行注释</h3> <p>多行注释还可以使用以下格式：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>:<span class="token operator">&lt;&lt;</span><span class="token string">EOF
注释内容...
注释内容...
注释内容...
EOF</span>
</code></pre></div><h1 id="shell-传递参数"><a href="#shell-传递参数" class="header-anchor">#</a> Shell 传递参数</h1> <p><strong>$0</strong> 为执行的文件名（包含文件路径）</p> <p>https://www.runoob.com/linux/linux-shell-passing-arguments.html</p> <h1 id="shell-基本运算符"><a href="#shell-基本运算符" class="header-anchor">#</a> Shell 基本运算符</h1> <p>两个数相加(<strong>注意使用的是反引号 ` 而不是单引号 '</strong>)：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> <span class="token number">2</span> + <span class="token number">2</span><span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;两数之和为 : <span class="token variable">$val</span>&quot;</span>
</code></pre></div><p>两点注意：</p> <ul><li><p><strong>表达式和运算符之间要有空格</strong>，例如 2+2 是不对的，必须写成 2 + 2，这与我们熟悉的大多数编程语言不一样。</p></li> <li><p>完整的表达式要被 <strong>``</strong> 包含，注意这个字符不是常用的单引号，在 Esc 键下边。</p></li></ul> <table><thead><tr><th>*</th> <th>乘法</th> <th><code>expr $a \* $b</code> 结果为 200。</th></tr></thead> <tbody><tr><td></td> <td></td> <td></td></tr></tbody> <tbody><tr><td>==</td> <td>相等。用于比较两个数字，相同则返回 true。</td> <td>[ $a == $b ] 返回 false。</td></tr> <tr><td>---</td> <td>---------------------------------------------</td> <td>-------------------------</td></tr> <tr><td>!=</td> <td>不相等。用于比较两个数字，不相同则返回 true。</td> <td>[ $a != $b ] 返回 true。</td></tr></tbody></table> <p><strong>注意：</strong></p> <ol><li><p>条件表达式要放在方括号之间，并且要有空格，例如: <strong>[$a==$b]</strong> 是错误的，必须写成 <strong>[ $a == $b ]</strong>。</p></li> <li><p>乘法</p> <p><code>expr $a \* $b</code></p> <p>有反斜杠</p></li> <li><p>在 MAC 中 shell 的 expr 语法是：<strong>$((表达式))</strong>，此处表达式中的 &quot;*&quot; 不需要转义符号 &quot;&quot;</p></li></ol> <h2 id="关系运算符"><a href="#关系运算符" class="header-anchor">#</a> 关系运算符</h2> <p>关系运算符只支持数字，不支持字符串，除非字符串的值是数字。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">$a</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token variable">$b</span> <span class="token comment"># 比较a b 大小关系 必须为数字才能比较</span>
</code></pre></div><p>选项有 -eq -ne -gt -lt -ge -le</p> <h2 id="布尔运算符"><a href="#布尔运算符" class="header-anchor">#</a> 布尔运算符</h2> <p>! 非</p> <p>-o 或运算</p> <p>-a 与运算</p> <h2 id="逻辑运算符"><a href="#逻辑运算符" class="header-anchor">#</a> 逻辑运算符</h2> <table><thead><tr><th style="text-align:left;">运算符</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">举例</th></tr></thead> <tbody><tr><td style="text-align:left;">&amp;&amp;</td> <td style="text-align:left;">逻辑的 AND</td> <td style="text-align:left;">[[ $a -lt 100 &amp;&amp; $b -gt 100 ]] 返回 false</td></tr> <tr><td style="text-align:left;">||</td> <td style="text-align:left;">逻辑的 OR</td> <td style="text-align:left;">[[ $a -lt 100 || $b -gt 100 ]] 返回 true</td></tr></tbody> <tbody><tr><td colspan="2" style="text-align:left;">问题: &amp;&amp;</td> <td style="text-align:left;">与布尔运算的 -o 和 -a 区别</td></tr></tbody></table> <h2 id="字符串运算符"><a href="#字符串运算符" class="header-anchor">#</a> 字符串运算符</h2> <p>= !=</p> <table><thead><tr><th>-z</th> <th>检测字符串长度是否为 0，为 0 返回 true。</th> <th>[ -z $a ] 返回 false。</th></tr></thead> <tbody><tr><td>-n</td> <td>检测字符串长度是否不为 0，不为 0 返回 true。</td> <td>[ -n &quot;$a&quot; ] 返回 true。</td></tr> <tr><td>$</td> <td>检测字符串是否为空，不为空返回 true。</td> <td>[ $a ] 返回 true。</td></tr></tbody></table> <h2 id="文件测试运算符"><a href="#文件测试运算符" class="header-anchor">#</a> 文件测试运算符</h2> <p>文件测试运算符用于检测 Unix 文件的各种属性。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token assign-left variable">file</span><span class="token operator">=</span><span class="token string">&quot;/var/www/runoob/test.sh&quot;</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -r <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件可读&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不可读&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -w <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件可写&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不可写&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -x <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件可执行&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不可执行&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -f <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件为普通文件&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件为特殊文件&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -d <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件是个目录&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不是个目录&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -s <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不为空&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件为空&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -e <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件存在&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不存在&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><p>执行脚本，输出结果如下所示：</p> <p>文件可读
文件可写
文件可执行
文件为普通文件
文件不是个目录
文件不为空
文件存在</p> <h2 id="shell-echo-命令"><a href="#shell-echo-命令" class="header-anchor">#</a> Shell echo 命令</h2> <h3 id="_1-显示普通字符串"><a href="#_1-显示普通字符串" class="header-anchor">#</a> 1.显示普通字符串:</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;It is a test&quot;</span>
</code></pre></div><h3 id="_2-显示转义字符"><a href="#_2-显示转义字符" class="header-anchor">#</a> 2.显示转义字符</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token entity" title="\&quot;">\&quot;</span>It is a test<span class="token entity" title="\&quot;">\&quot;</span>&quot;</span>
</code></pre></div><h3 id="_3-显示变量"><a href="#_3-显示变量" class="header-anchor">#</a> 3.显示变量</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token builtin class-name">read</span> name
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$name</span> It is a test&quot;</span>
</code></pre></div><h3 id="_4-显示换行"><a href="#_4-显示换行" class="header-anchor">#</a> 4.显示换行</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> -e <span class="token string">&quot;OK! <span class="token entity" title="\n">\n</span>&quot;</span> <span class="token comment"># -e 开启转义</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;It is a test&quot;</span>
</code></pre></div><h3 id="_5-显示不换行"><a href="#_5-显示不换行" class="header-anchor">#</a> 5.显示不换行</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token builtin class-name">echo</span> -e <span class="token string">&quot;OK! <span class="token entity" title="\c">\c</span>&quot;</span> <span class="token comment"># -e 开启转义 \c 不换行</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;It is a test&quot;</span>
</code></pre></div><p>输出结果：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>OK<span class="token operator">!</span> It is a <span class="token builtin class-name">test</span>
</code></pre></div><h3 id="_6-显示结果定向至文件"><a href="#_6-显示结果定向至文件" class="header-anchor">#</a> 6.显示结果定向至文件</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;It is a test&quot;</span> <span class="token operator">&gt;</span> myfile
</code></pre></div><h3 id="_7-原样输出字符串-不进行转义或取变量-用单引号"><a href="#_7-原样输出字符串-不进行转义或取变量-用单引号" class="header-anchor">#</a> 7.原样输出字符串，不进行转义或取变量(用单引号)</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">'<span class="token variable">$name</span><span class="token entity" title="\&quot;">\&quot;</span>'</span>
</code></pre></div><h3 id="_8-显示命令执行结果"><a href="#_8-显示命令执行结果" class="header-anchor">#</a> 8.显示命令执行结果</h3> <div class="language- extra-class"><pre class="language-text"><code>echo `date`
</code></pre></div><p><strong>注意：</strong> 这里使用的是反引号 <strong>`</strong>, 而不是单引号 <strong>'</strong>。</p> <p>结果将显示当前日期</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Thu Jul <span class="token number">24</span> <span class="token number">10</span>:08:46 CST <span class="token number">2014</span>
</code></pre></div><h1 id="shell-printf-命令"><a href="#shell-printf-命令" class="header-anchor">#</a> Shell printf 命令</h1> <p>printf 由 POSIX 标准所定义，因此使用 printf 的脚本比使用 echo 移植性好。</p> <p>printf 命令的语法：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">printf</span>  format-string  <span class="token punctuation">[</span>arguments<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre></div><p><strong>参数说明：</strong></p> <ul><li><strong>format-string:</strong> 为格式控制字符串</li> <li><strong>arguments:</strong> 为参数列表。</li></ul> <h1 id="shell-test-命令"><a href="#shell-test-命令" class="header-anchor">#</a> Shell test 命令</h1> <h1 id="shell-流程控制"><a href="#shell-流程控制" class="header-anchor">#</a> Shell 流程控制</h1> <h2 id="if-else"><a href="#if-else" class="header-anchor">#</a> if else</h2> <h3 id="if"><a href="#if" class="header-anchor">#</a> if</h3> <p>if 语句语法格式：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> condition
<span class="token keyword">then</span>
    command1
    command2
    <span class="token punctuation">..</span>.
    commandN
<span class="token keyword">fi</span>
</code></pre></div><p>末尾的 fi 就是 if 倒过来拼写</p> <h3 id="if-else-2"><a href="#if-else-2" class="header-anchor">#</a> if else</h3> <p>if else 语法格式：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> condition
<span class="token keyword">then</span>
    command1
    command2
    <span class="token punctuation">..</span>.
    commandN
<span class="token keyword">else</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">fi</span>
</code></pre></div><h3 id="if-else-if-else"><a href="#if-else-if-else" class="header-anchor">#</a> if else-if else</h3> <p>if else-if else 语法格式：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">if</span> condition1
<span class="token keyword">then</span>
    command1
<span class="token keyword">elif</span> condition2
<span class="token keyword">then</span>
    command2
<span class="token keyword">else</span>
    commandN
<span class="token keyword">fi</span>
</code></pre></div><p>if else 语句经常与 test 命令结合使用，如下所示：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">num1</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token number">2</span>*3<span class="token punctuation">]</span>
<span class="token assign-left variable">num2</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token number">1</span>+5<span class="token punctuation">]</span>
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> $<span class="token punctuation">[</span>num1<span class="token punctuation">]</span> -eq $<span class="token punctuation">[</span>num2<span class="token punctuation">]</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个数字相等!'</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个数字不相等!'</span>
<span class="token keyword">fi</span>
</code></pre></div><h2 id="for-循环"><a href="#for-循环" class="header-anchor">#</a> for 循环</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> item1 item2 <span class="token punctuation">..</span>. itemN
<span class="token keyword">do</span>
    command1
    command2
    <span class="token punctuation">..</span>.
    commandN
<span class="token keyword">done</span>
</code></pre></div><p>当变量值在列表里，for 循环即执行一次所有命令，</p> <p>使用变量名获取列表中的当前取值。</p> <p>命令可为任何有效的 shell 命令和语句。in 列表可以包含替换、字符串和文件名。</p> <p>in 列表是可选的，如果不用它，for 循环使用命令行的位置参数。</p> <p>例如，顺序输出当前列表中的数字：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">for</span> <span class="token for-or-select variable">loop</span> <span class="token keyword">in</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;The value is: <span class="token variable">$loop</span>&quot;</span>
<span class="token keyword">done</span>
</code></pre></div><h2 id="while-语句"><a href="#while-语句" class="header-anchor">#</a> while 语句</h2> <p>while 循环用于不断执行一系列命令，也用于从输入文件中读取数据；命令通常为测试条件。其格式为：</p> <div class="language- extra-class"><pre class="language-text"><code>while condition
do
    command
done
</code></pre></div><p>以下是一个基本的 while 循环，测试条件是：如果 int 小于等于 5，那么条件返回真。int 从 0 开始，每次循环处理时，int 加 1。运行上述脚本，返回数字 1 到 5，然后终止。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">int</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token keyword">while</span><span class="token variable"><span class="token punctuation">((</span> $int<span class="token operator">&lt;=</span><span class="token number">5</span> <span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$int</span>
    <span class="token builtin class-name">let</span> <span class="token string">&quot;int++&quot;</span>
<span class="token keyword">done</span>
</code></pre></div><p>while 循环可用于读取键盘信息。下面的例子中，输入信息被设置为变量 FILM，按 Ctrl-D 结束循环。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token string">'按下 &lt;CTRL-D&gt; 退出'</span>
<span class="token builtin class-name">echo</span> -n <span class="token string">'输入你最喜欢的网站名: '</span>
<span class="token keyword">while</span> <span class="token builtin class-name">read</span> FILM
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;是的！<span class="token variable">$FILM</span> 是一个好网站&quot;</span>
<span class="token keyword">done</span>
</code></pre></div><h3 id="无限循环"><a href="#无限循环" class="header-anchor">#</a> 无限循环</h3> <p>无限循环语法格式：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token keyword">while</span> <span class="token builtin class-name">:</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">done</span>
</code></pre></div><p>或者</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token keyword">while</span> <span class="token boolean">true</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">done</span>
</code></pre></div><p>或者</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> <span class="token punctuation">;</span> <span class="token punctuation">;</span> <span class="token punctuation">))</span></span>
</code></pre></div><h2 id="until-循环"><a href="#until-循环" class="header-anchor">#</a> until 循环</h2> <p>until 循环执行一系列命令直至条件为 true 时停止。</p> <p>until 循环与 while 循环在处理方式上刚好相反。</p> <p>一般 while 循环优于 until 循环，但在某些时候—也只是极少数情况下，until 循环更加有用。</p> <p>until 语法格式:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token keyword">until</span> condition
<span class="token keyword">do</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">done</span>
</code></pre></div><p>condition 一般为条件表达式，如果返回值为 false，则继续执行循环体内的语句，否则跳出循环。</p> <p>以下实例我们使用 until 命令来输出 0 ~ 9 的数字：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">0</span>

<span class="token keyword">until</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token variable">$a</span> -lt <span class="token number">10</span> <span class="token punctuation">]</span>
<span class="token keyword">do</span>
   <span class="token builtin class-name">echo</span> <span class="token variable">$a</span>
   <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a + <span class="token number">1</span><span class="token variable">`</span></span>
<span class="token keyword">done</span>
</code></pre></div><h2 id="case"><a href="#case" class="header-anchor">#</a> case</h2> <h2 id="跳出循环"><a href="#跳出循环" class="header-anchor">#</a> 跳出循环</h2> <h3 id="break-命令"><a href="#break-命令" class="header-anchor">#</a> break 命令</h3> <p>break 命令允许跳出所有循环（终止执行后面的所有循环）。</p> <h3 id="continue"><a href="#continue" class="header-anchor">#</a> continue</h3> <p>continue 命令与 break 命令类似，只有一点差别，它不会跳出所有循环，仅仅跳出当前循环。</p> <h2 id="case-esac"><a href="#case-esac" class="header-anchor">#</a> case ... esac</h2> <p><strong>case ... esac</strong> 与其他语言中的 switch ... case 语句类似，是一种多分枝选择结构，每个 case 分支用右圆括号开始，用两个分号 <strong>;;</strong> 表示 break，即执行结束，跳出整个 case ... esac 语句，esac（就是 case 反过来）作为结束标记。</p> <p>case ... esac 语法格式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>case 值 in
模式1)
    command1
    command2
    command3
    ;;
模式2）
    command1
    command2
    command3
    ;;
*)
    command1
    command2
    command3
    ;;
esac
</code></pre></div><p>case 后为取值，值可以为变量或常数。</p> <p>值后为关键字 in，接下来是匹配的各种模式，每一模式最后必须以右括号结束，模式支持正则表达式。</p> <h1 id="shell-函数"><a href="#shell-函数" class="header-anchor">#</a> Shell 函数</h1> <p>shell 中函数的定义格式如下：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token punctuation">[</span> <span class="token keyword">function</span> <span class="token punctuation">]</span> funname <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token punctuation">{</span>

    action<span class="token punctuation">;</span>

    <span class="token punctuation">[</span>return int<span class="token punctuation">;</span><span class="token punctuation">]</span>

<span class="token punctuation">}</span>
</code></pre></div><p>函数返回值在调用该函数后通过 $? 来获得。</p> <p>必须将函数放在脚本开始部分，直至 shell 解释器首次发现它时，才可以使用。调用函数仅使用其函数名即可</p> <h1 id="shell-输入-输出重定向"><a href="#shell-输入-输出重定向" class="header-anchor">#</a> Shell 输入/输出重定向</h1> <h2 id="输入重定向"><a href="#输入重定向" class="header-anchor">#</a> 输入重定向</h2> <p>和输出重定向一样，Unix 命令也可以从文件获取输入，语法为：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>command1 <span class="token operator">&lt;</span> file1
</code></pre></div><p>这样，本来需要从键盘获取输入的命令会转移到文件读取内容。</p> <p>注意：输出重定向是大于号(&gt;)，输入重定向是小于号(&lt;)。</p> <p>如果希望 stderr 追加到 file 文件末尾，可以这样写：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token builtin class-name">command</span> <span class="token number">2</span> <span class="token operator">&gt;&gt;</span> <span class="token function">file</span>
</code></pre></div><h1 id="shell-文件包含"><a href="#shell-文件包含" class="header-anchor">#</a> Shell 文件包含</h1> <p>和其他语言一样，Shell 也可以包含外部脚本。这样可以很方便的封装一些公用的代码作为一个独立的文件。</p> <p>Shell 文件包含的语法格式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>. filename   # 注意点号(.)和文件名中间有一空格

或

source filename
</code></pre></div><h3 id="实例"><a href="#实例" class="header-anchor">#</a> 实例</h3> <p>创建两个 shell 脚本文件。</p> <p>test1.sh 代码如下：</p> <div class="language- extra-class"><pre class="language-text"><code>#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

url=&quot;http://www.runoob.com&quot;
</code></pre></div><p>test2.sh 代码如下：</p> <div class="language- extra-class"><pre class="language-text"><code>#!/bin/bash
# author:菜鸟教程
# url:www.runoob.com

#使用 . 号来引用test1.sh 文件
. ./test1.sh

# 或者使用以下包含文件代码
# source ./test1.sh

echo &quot;菜鸟教程官网地址：$url&quot;
</code></pre></div><p>接下来，我们为 test2.sh 添加可执行权限并执行：</p> <div class="language- extra-class"><pre class="language-text"><code>$ chmod +x test2.sh
$ ./test2.sh
菜鸟教程官网地址：http://www.runoob.com
</code></pre></div><blockquote><p>**注：**被包含的文件 test1.sh 不需要可执行权限</p></blockquote></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/chengziqaq/Note/edit/master/cs/Linux/shell.md" target="_blank" rel="noopener noreferrer"> Edit on Github </a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/8/2020, 11:21:42 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ⟵
      <a href="/Note/cs/Linux/linux.html" class="prev">
        Linux
      </a></span> <span class="next"><a href="/Note/cs/Linux/Git/git.html">
        git
      </a>
      ⟶
    </span></p></div> </main></div><div class="global-ui"><div style="visibility:hidden;display:none;"></div><!----></div></div>
    <script src="/Note/assets/js/app.73d70182.js" defer></script><script src="/Note/assets/js/4.4646cd58.js" defer></script><script src="/Note/assets/js/31.2f2c7e0a.js" defer></script><script src="/Note/assets/js/21.e9278fc3.js" defer></script>
  </body>
</html>
