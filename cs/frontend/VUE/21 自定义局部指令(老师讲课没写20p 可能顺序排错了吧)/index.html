<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://unpkg.com/vue"></script>
</head>
<body>

<div id="app1">
    <p v-color="curColor">i am a p tag in app1</p>

    <!--    <input type="text" v-focus>-->
</div>


<div id="app2">
    <p v-color="curColor">i am a p tag in app2</p>

    <!--    <input type="text" v-focus>-->
</div>


<script>
    /*
    directive接收两个参数
    1. 指令的名称
    2.对象
    注意点: 在自定义指令时,指定名称不需要加v-
    注意点: 指令可以在不同的生命周期阶段执行
    bind: 指令被绑定到元素上的时候执行
    inserted: 绑定指令的元素被添加(渲染)到父元素上的时候调用
     */
    // Vue.directive("color", {
    //     // 这里的el就是被绑定指令的那儿元素
    //     bind: function (el, obj) {
    //         // el.style.color="red";
    //         el.style.color = obj.value;
    //     }
    // })

    Vue.directive("focus", {
        // 这里的el就是被绑定指令的那儿元素
        inserted: function (el) {
            el.focus();
        }
    })


    let vue1 = new Vue({
        //控制区域
        el: "#app1",
        //被控制区域的数据
        data: {
            name: "zx",
            curColor: "red"
        }
    });

    let vue2 = new Vue({
        //控制区域
        el: "#app2",
        //被控制区域的数据
        data: {
            name: "zx",
            curColor: "green"
        },

        // 局部自定义指令创建
        directives:{
            "color": {
                    // 这里的el就是被绑定指令的那儿元素
                    bind: function (el, obj) {
                        // el.style.color="red";
                        el.style.color = obj.value;
                    }
            }
        }
    });
</script>
</body>
</html>